
<!DOCTYPE html>
<html>
  <head>
    
<meta charset="utf-8" >

<title>Arch Linux å®‰è£… ğŸ˜‡ | Auroot - Blog</title>
<meta name="description" content="å°é¹¿å²è®°">

<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/3.7.0/animate.min.css">

<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.7.2/css/all.css" integrity="sha384-fnmOCqbTlWIlj8LyTjo7mOUStjsKC4pOpQbqyi7RrhN7udi9RwhKkMHpvLbHG9Sr" crossorigin="anonymous">
<link rel="shortcut icon" href="http://49.235.197.200/favicon.ico?v=1596952508027">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.10.0/katex.min.css">
<link rel="stylesheet" href="http://49.235.197.200/styles/main.css">


  
    <link rel="stylesheet" href="https://unpkg.com/gitalk/dist/gitalk.css" />
  

  


<script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>
<script src="https://cdn.bootcss.com/highlight.js/9.12.0/highlight.min.js"></script>



  </head>
  <body>
    <div id="app" class="main">
      <div class="site-header-container">
  <div class="site-header">
    <div class="left">
      <a href="http://49.235.197.200">
        <img class="avatar" src="http://49.235.197.200/images/avatar.png?v=1596952508027" alt="" width="32px" height="32px">
      </a>
      <a href="http://49.235.197.200">
        <h1 class="site-title">Auroot - Blog</h1>
      </a>
    </div>
    <div class="right">
      <transition name="fade">
        <i class="icon" :class="{ 'icon-close-outline': menuVisible, 'icon-menu-outline': !menuVisible }" @click="menuVisible = !menuVisible"></i>
      </transition>
    </div>
  </div>
</div>

<transition name="fade">
  <div class="menu-container" style="display: none;" v-show="menuVisible">
    <div class="menu-list">
      
        
          <a href="/" class="menu purple-link">
            é¦–é¡µ
          </a>
        
      
        
          <a href="/archives" class="menu purple-link">
            å½’æ¡£
          </a>
        
      
        
          <a href="/tags" class="menu purple-link">
            æ ‡ç­¾
          </a>
        
      
        
          <a href="/post/about" class="menu purple-link">
            å…³äº
          </a>
        
      
    </div>
  </div>
</transition>


      <div class="content-container">
        <div class="post-detail">
          
            <div class="feature-container" style="background-image: url('https://gitee.com/auroot/arch_wiki/raw/master/Img/archlinux/img1.png')">
            </div>
          
          <h2 class="post-title">Arch Linux å®‰è£… ğŸ˜‡</h2>
          <div class="post-info post-detail-info">
            <span><i class="icon-calendar-outline"></i> 2020-03-06</span>
            
              <span>
                <i class="icon-pricetags-outline"></i>
                
                  <a href="http://49.235.197.200/tag/ArchLinux/">
                    ArchLinux
                    
                      ï¼Œ
                    
                  </a>
                
                  <a href="http://49.235.197.200/tag/ArcoLinux/">
                    ArcoLinux
                    
                  </a>
                
              </span>
            
          </div>
          <div class="post-content">
            <h4 id="arch-linux-ä¸ä¸€äº›è½¯ä»¶çš„é…ç½®å¦‚æœç‹—timç½‘æ˜“äº‘éŸ³ä¹zsh-é©±åŠ¨ç­‰">Arch Linux ä¸ä¸€äº›è½¯ä»¶çš„é…ç½®ï¼Œå¦‚æœç‹—ï¼Œtimï¼Œç½‘æ˜“äº‘éŸ³ä¹ï¼ŒZsh é©±åŠ¨ç­‰.....</h4>
<!-- more -->
<h2 id="å…æŒ‡ä»¤è„šæœ¬"><strong>å…æŒ‡ä»¤è„šæœ¬</strong></h2>
<p><a href="https://www.bilibili.com/video/av88989589">Bilibili - è¯¦ç»†è§†é¢‘è®²è§£</a></p>
<pre><code class="language-shell">wget archfi.sf.net/archfi    # è·å–archfiâ€‹
chmod +x archfi              # å¢åŠ è„šæœ¬çš„å¯æ‰§è¡Œæƒé™â€‹
./archfi                     # è¿è¡Œè„šæœ¬â€‹
</code></pre>
<h2 id="å®‰è£…æ­¥éª¤"><strong>å®‰è£…æ­¥éª¤ï¼š</strong></h2>
<p><a href="https://wiki.archlinux.org/index.php/Installation_guide_(%E7%AE%80%E4%BD%93%E4%B8%AD%E6%96%87)">ArchLinux_Wiki - å®‰è£…æ•™ç¨‹</a></p>
<h3 id="ä¸€-éªŒè¯å¯åŠ¨æ¨¡å¼">ä¸€ã€éªŒè¯å¯åŠ¨æ¨¡å¼</h3>
<pre><code class="language-shell">[auroot@Archlinux ~]# ls /sys/firmware/efi/efivars
</code></pre>
<h3 id="äºŒ-æ£€æŸ¥ç½‘ç»œ">äºŒã€æ£€æŸ¥ç½‘ç»œ</h3>
<p><a href="https://wiki.archlinux.org/index.php/Network_configuration_(%E7%AE%80%E4%BD%93%E4%B8%AD%E6%96%87)">ArchLinux_Wiki - Network</a></p>
<pre><code class="language-Shell">ip link                     #æŸ¥çœ‹ç½‘å¡è®¾å¤‡
ip link set [ç½‘å¡] up       #å¼€å¯ç½‘å¡è®¾å¤‡
systemctl start dhcpcd      #å¼€å¯DHCPæœåŠ¡
wifi-menu                   #è¿æ¥wifi
</code></pre>
<h3 id="ä¸‰-é…ç½®-mirrort">ä¸‰ã€é…ç½® Mirrort</h3>
<pre><code class="language-shell"># å‘½ä»¤æ›¿æ¢
sed -i &quot;6i Server = http://mirrors.aliyun.com/archlinux/\$repo/os/\$arch&quot; /etc/pacman.d/mirrorlist
sed -i &quot;6i Server = https://mirrors.163.com/archlinux/\$repo/os/\$arch&quot; /etc/pacman.d/mirrorlist
sed -i &quot;6i Server = https://mirrors.tuna.tsinghua.edu.cn/archlinux/\$repo/os/\$arch&quot; /etc/pacman.d/mirrorlist
# è‡ªè¡Œæ›¿æ¢
Server = http://mirrors.aliyun.com/archlinux/$repo/os/$arch
Server = https://mirrors.163.com/archlinux/$repo/os/$arch
Server = https://mirrors.tuna.tsinghua.edu.cn/archlinux/$repo/os/$arch

æ›´æ–°ä¸€ä¸‹
sudo pacman -Sy
</code></pre>
<h3 id="å››-ç£ç›˜åˆ†åŒº">å››ã€ç£ç›˜åˆ†åŒº</h3>
<p><strong>åˆ†åŒºå‘½ä»¤</strong><br>
<a href="https://wiki.archlinux.org/index.php/Fdisk_(%E7%AE%80%E4%BD%93%E4%B8%AD%E6%96%87)">ArchLinux_Wiki - fdisk(åˆ†åŒºå·¥å…·)</a></p>
<pre><code class="language-shell">cfdisk /dev/sda  # æŒ‡å®šç£ç›˜
</code></pre>
<p><strong>æ ¼å¼åŒ–å‘½ä»¤</strong><br>
<a href="https://wiki.archlinux.org/index.php/File_systems_(%E7%AE%80%E4%BD%93%E4%B8%AD%E6%96%87)">ArchLinux_Wiki - File systems</a></p>
<pre><code class="language-shell">mkfs.vfat  /dev/sda[0-9]   # efi/esp  fat32  # æŒ‡å®šåˆ†åŒº
mkfs.ext4 /dev/sda[0-9]    # ext4     # æŒ‡å®šåˆ†åŒº
mkfs.ext3 /dev/sda[0-9]    # ext3     # æŒ‡å®šåˆ†åŒº
mkswap /dev/sda[0-9]       # swap     # æŒ‡å®šåˆ†åŒº
  
</code></pre>
<h3 id="äº”-æŒ‚è½½åˆ†åŒº">äº”ã€æŒ‚è½½åˆ†åŒº</h3>
<pre><code class="language-shell">swapon /dev/sd[a-z][0-9]         # æŒ‚ç€swap å¸è½½:swapoff
mount /dev/sd[a-z][0-9] /mnt     # æŒ‚ç€æ ¹ç›®å½•
mkdir -p /mnt/boot/EFI           # åˆ›å»ºefiå¼•å¯¼ç›®å½•
mount /dev/sda1 /mnt/boot/EFI    # æŒ‚ç€efiåˆ†åŒº
</code></pre>
<h3 id="å…­-å®‰è£…ç³»ç»Ÿ">å…­ã€å®‰è£…ç³»ç»Ÿ</h3>
<pre><code class="language-shell">pacstrap /mnt base base-devel linux linux-firmware ntfs-3g networkmanager os-prober net-tools
</code></pre>
<pre><code class="language-shell">genfstab -U /mnt &gt;&gt; /mnt/etc/fstab     # åˆ›å»ºfstabåˆ†åŒºè¡¨ï¼Œè®°å¾—æ£€æŸ¥
arch-chroot /mnt /bin/bash             # chroot è¿›å…¥åˆ›å»ºå¥½çš„ç³»ç»Ÿ
</code></pre>
<h3 id="ä¸ƒ-é…ç½®ç³»ç»Ÿ">ä¸ƒã€é…ç½®ç³»ç»Ÿ</h3>
<p><strong>è®¾ç½®æ—¶åŒº</strong></p>
<pre><code class="language-shell">ln -sf /usr/share/zoneinfo/Asia/Shanghai /etc/localtime     # ä¸Šæµ·

hwclock --systohc       #è¿è¡Œ hwclock ä»¥ç”Ÿæˆ /etc/adjtime
</code></pre>
<p><strong>æœ¬åœ°åŒ–</strong></p>
<pre><code class="language-shell">sed  -i &quot;24i en_US.UTF-8 UTF-8&quot; /etc/locale.gen
sed  -i &quot;24i zh_CN.UTF-8 UTF-8&quot; /etc/locale.gen

locale-gen             # ç”Ÿæˆ locale
</code></pre>
<p><strong>ç³»ç»Ÿè¯­è¨€</strong></p>
<pre><code class="language-shell">echo &quot;LANG=en_US.UTF-8&quot; &gt; /etc/locale.conf       # è‹±æ–‡
echo &quot;LANG=zh_CN.UTF-8&quot; &gt; /etc/locale.conf       # ä¸­æ–‡
</code></pre>
<p><strong>å­—ä½“</strong></p>
<pre><code class="language-shell">sudo pacman -S wqy-microhei wqy-zenhei ttf-dejavu
</code></pre>
<p><strong>ä¸»æœºå</strong></p>
<pre><code class="language-shell">echo &quot;Archlinux&quot; &gt; /etc/hostname  #ä¸»æœºå
passwd                 #ç»™rootè®¾ç½®å¯†ç 
mkinitcpio -p linux    
</code></pre>
<p><strong>åˆ›å»ºç”¨æˆ·</strong></p>
<pre><code class="language-shell">useradd -m -g users -G wheel -s /bin/bash ç”¨æˆ·å

passwd ç”¨æˆ·å           #ç»™ç”¨æˆ·è®¾ç½®å¯†ç 
</code></pre>
<p>éœ€è¦å¼€å¯çš„æœåŠ¡:</p>
<pre><code class="language-shell">systemctl enable NetworkManager    #ç½‘ç»œæœåŠ¡,ä¸å¼€æ²¡ç½‘
systemctl start NetworkManager

systemctl enable sshd.service      #SSHè¿œç¨‹æœåŠ¡,éšæ„
systemctl start sshd.service
</code></pre>
<p><strong>é…ç½®GRUB</strong><br>
<a href="https://wiki.archlinux.org/index.php/GRUB_(%E7%AE%80%E4%BD%93%E4%B8%AD%E6%96%87)">ArchLinux_Wiki - GRUB</a></p>
<p>æ‰§è¡Œpasswd ç»™rootè®¾ç½®ä¸€ä¸ªå¯†ç ã€‚<br>
å®‰è£…grubå·¥å…·ï¼Œåˆ°è¿™ä¸€æ­¥ï¼Œä¸€å®šè¦çœ‹æ¸…æ¥šã€‚</p>
<pre><code class="language-shell">pacman -S vim grub efibootmgr
# æœ€å
grub-install --target=x86_64-efi --efi-directory=/boot/efi --bootloader-id=Archlinux
grub-mkconfig -o /boot/grub/grub.cfg
</code></pre>
<h3 id="å¼„å®Œé‡å¯">å¼„å®Œé‡å¯</h3>
<pre><code class="language-shell">exit
swapoff /dev/sd[a-z][0-9]      #å¸è½½swap
umount -R /mnt &amp;&amp; reboot now   #å¸è½½ æ ¹åˆ†åŒºã€efiåˆ†åŒº
</code></pre>
<hr>
<h2 id="å®‰è£…é©±åŠ¨">å®‰è£…é©±åŠ¨</h2>
<p><strong>intel æ˜¾ç¤ºé©±åŠ¨</strong><br>
<a href="https://wiki.archlinux.org/index.php/Intel_graphics_(%E7%AE%80%E4%BD%93%E4%B8%AD%E6%96%87)">ArchLinux_Wiki - Intelæ˜¾å¡</a></p>
<pre><code class="language-shell">pacman -S xf86-video-intel mesa-libgl libva-intel-driver libvdpau-va-gl
</code></pre>
<p><strong>è§¦æ‘¸æ¿é©±åŠ¨</strong></p>
<pre><code class="language-shell">sudo pacman -S xf86-input-libinput xf86-input-synaptics 
</code></pre>
<p><strong>è“ç‰™</strong><br>
<a href="https://wiki.archlinux.org/index.php/Bluetooth_(%E7%AE%80%E4%BD%93%E4%B8%AD%E6%96%87)">ArchLinux_Wiki - è“ç‰™</a></p>
<pre><code class="language-shell">sudo pacman -S bluez bluez-utils blueman  bluedevil

sudo systemctl start bluetooth.service
sudo systemctl enable bluetooth.service
</code></pre>
<p><strong>éŸ³é¢‘</strong></p>
<pre><code class="language-shell">sudo pacman -S pulseaudio-bluetooth alsa-utils
sudo vim /etc/pulse/system.pa

load-module module-bluetooth-policy
load-module module-bluetooth-discover
</code></pre>
<ul>
<li>æ‰€æœ‰Video é©±åŠ¨:</li>
</ul>
<pre><code class="language-shell">xf86-video-amdgpu                   
xf86-video-ati                      
xf86-video-dummy                    
xf86-video-fbdev                    
xf86-video-intel                    
xf86-video-nouveau                  
xf86-video-openchrome               
xf86-video-sisusb                   
xf86-video-vesa                     
xf86-video-vmware                   
xf86-video-voodoo                   
xf86-video-qxl
</code></pre>
<p><strong>å®‰è£…I\Oé©±åŠ¨</strong></p>
<pre><code class="language-shell">sudo pacman -S xf86-input-keyboard xf86-input-mouse xf86-input-synaptics
</code></pre>
<ul>
<li>å…¶ä»–I\Oé©±åŠ¨</li>
</ul>
<pre><code class="language-shell">xf86-input-elographics                     
xf86-input-evdev                           
xf86-input-libinput                        
xf86-input-synaptics    
xf86-input-vmmouse      (VMWare)           
xf86-input-void                            
xf86-input-wacom                           
</code></pre>
<h4 id="æ‰“å°æœºé©±åŠ¨"><strong>æ‰“å°æœºé©±åŠ¨</strong></h4>
<p><a href="https://wiki.archlinux.org/index.php/CUPS_(%E7%AE%80%E4%BD%93%E4%B8%AD%E6%96%87)">ArchLinux_Wiki - CUPS</a></p>
<p>CUPS æ˜¯è‹¹æœå…¬å¸ä¸ºMac OSÂ® X å’Œå…¶ä»–ç±» UNIXÂ® çš„æ“ä½œç³»ç»Ÿå¼€å‘çš„åŸºäºæ ‡å‡†çš„ã€å¼€æºçš„æ‰“å°ç³»ç»Ÿ.<br>
é¦–å…ˆè¦å®‰è£…è¿™5ä¸ªåŒ…<code>sudo pacman -S cups ghostscript gsfonts gutenprint cups-usblp</code></p>
<ul>
<li><code>samba</code>        å¦‚æœç³»ç»Ÿç”¨çš„ Samba ä½¿ç”¨ç½‘ç»œæ‰“å°æœºï¼Œæˆ–è€…è¦ä½œä¸ºæ‰“å°æœåŠ¡å™¨å‘å…¶å®ƒwindowså®¢æˆ·ç«¯æä¾›æœåŠ¡ï¼Œä½ è¿˜éœ€è¦å®‰è£…</li>
<li><code>cups</code>         å°±æ˜¯ä¼ è¯´ä¸­çš„CUPSè½¯ä»¶```</li>
<li><code>ghostscript</code>  Postscriptè¯­è¨€çš„è§£é‡Šå™¨```</li>
<li><code>gsfonts</code>      Ghostscriptæ ‡å‡†Type1å­—ä½“```</li>
<li><code>hpoj</code>         HP Officejet, ä½ åº”è¯¥å†å®‰è£…è¿™ä¸ªåŒ…```</li>
</ul>
<h3 id="æ‰‹æœºæ–‡ä»¶ç³»ç»Ÿæ”¯æŒ"><strong>æ‰‹æœºæ–‡ä»¶ç³»ç»Ÿæ”¯æŒ</strong></h3>
<pre><code class="language-shell">sudo pacman -S mtpaint mtpfs libmtp 
Gnome ï¼š gvfs-mtp 
Kde ï¼škio-extras
</code></pre>
<hr>
<h2 id="nvidia-æ˜¾ç¤ºé©±åŠ¨"><strong>Nvidia æ˜¾ç¤ºé©±åŠ¨</strong></h2>
<ul>
<li>
<p><a href="https://github.com/dglt1">Optimus-switch - è§£å†³æ–¹æ¡ˆ</a></p>
</li>
<li>
<p><a href="https://github.com/Shatur95/optimus-manager-qt">Optimus-manager-qt - è§£å†³æ–¹æ¡ˆ(è‡ªç”¨æ¨è)</a></p>
</li>
<li>
<p>å¯èƒ½éœ€è¦å¼€å¯AURæº</p>
</li>
<li>
<p>å¯èƒ½éœ€è¦å¼€å¯è½¯ä»¶æº [multilib]</p>
</li>
</ul>
<pre><code class="language-shell">sudo rm -f /etc/X11/xorg.conf
sudo rm -f /etc/X11/xorg.conf.d/90-mhwd.conf
sudo systemctl disable bumblebeed.service   #å¦‚æœæ­£åœ¨ä½¿ç”¨bumblebee,è¯·ç¦ç”¨å®ˆæŠ¤è¿›ç¨‹

# gdmç®¡ç†å™¨
yaourt -S gdm-prime         
sudo vim /etc/gdm/custom.conf
    #WaylandEnable=false        å‰é¢çš„#å»æ‰ Gnomoeçš„æ˜¾ç¤ºç®¡ç†å™¨å°±æ˜¯gdm(Gnome xorgæ¨¡å¼)

# sddmç®¡ç†å™¨
sudo vim /etc/sddm.conf     
    DisplayCommand              #æ‰¾åˆ°è¿™è¡Œï¼Œæ³¨é‡Š#
    DisplayStopCommand          #æ‰¾åˆ°è¿™è¡Œï¼Œæ³¨é‡Š#

#å®‰è£…NVidiaåŠä¸»ç¨‹åº
sudo pacman -S nvidia nvidia-utils opencl-nvidia lib32-nvidia-utils lib32-opencl-nvidia mesa lib32-mesa-libgl xf86-video-intel
sudo pacman -S optimus-manager optimus-manager-qt   #å®‰è£…optimus-manager

sudo systemctl enable optimus-manager.service       #å¼€å¯è¿›ç¨‹ 
</code></pre>
<hr>
<p><strong>æŸ¥çœ‹nå¡çš„BusID</strong></p>
<pre><code class="language-shell">lspci | egrep 'VGA|3D'
å‡ºç°å¦‚ä¸‹æ ¼å¼ï¼š
----------------------------------------------------------------------
00:02.0 VGA compatible controller: Intel Corporation UHD Graphics 630 (Desktop)
01:00.0 VGA compatible controller: NVIDIA Corporation GP107M [GeForce GTX 1050 Ti Mobile] (rev a1)
â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”
</code></pre>
<p><strong>è§£å†³ç”»é¢æ’•è£‚é—®é¢˜</strong></p>
<pre><code class="language-shell"> vim /etc/mkinitcpio.conf
----------------------------------------------------------------------
MODULES=(nvidia nvidia_modeset nvidia_uvm nvidia_drm)
----------------------------------------------------------------------

vim /etc/default/grub                                              # æ­¤å¤„å¿…é¡»æ˜¯grubå¼•å¯¼ï¼Œå…¶ä»–å¼•å¯¼è‡ªè¡Œç™¾åº¦
----------------------------------------------------------------------
GRUB_CMDLINE_LINUX_DEFAULT=&quot;quiet nvidia-drm.modeset=1&quot;               #æ­¤å¤„åŠ nvidia-drm.modeset=1å‚æ•°
----------------------------------------------------------------------

grub-mkconfig -o /boot/grub/grub.cfg                           
</code></pre>
<p><strong>nvidiaå‡çº§æ—¶è‡ªåŠ¨æ›´æ–°initramfs</strong></p>
<pre><code class="language-shell">sudo mkdir /etc/pacman.d/hooks
sudo vim /etc/pacman.d/hooks/nvidia.hook
-----------------------------------------------------------------
[Trigger]
Operation=Install
Operation=Upgrade
Operation=Remove
Type=Package
Target=nvidia
Target=linux
# Change the linux part above and in the Exec line if a different kernel is used

[Action]
Description=Update Nvidia module in initcpio
Depends=mkinitcpio
When=PostTransaction
NeedsTargets
Exec=/bin/sh -c 'while read -r trg; do case $trg in linux) exit 0; esac; done; /usr/bin/mkinitcpio -P'
</code></pre>
<p><strong>å®‰è£…æµ‹è¯•è½¯ä»¶  åœ¨å›¾å½¢ç•Œé¢ä¸‹</strong></p>
<pre><code class="language-shell">sudo pacman -S virtualgl
optirun glxspheres64

#æŸ¥çœ‹NVIDIAæ˜¾å¡æ˜¯å¦å·²ç»å¯åŠ¨
nvidia-smi
</code></pre>
<h2 id="ä»¥ä¸‹å¯ä¸ç”¨åŠ å…¥é…ç½®"><strong>ä»¥ä¸‹å¯ä¸ç”¨åŠ å…¥é…ç½®</strong></h2>
<p><strong>SDDM</strong></p>
<pre><code class="language-shell">vim /usr/share/sddm/scripts/Xsetup
----------------------------------------------------------------------
xrandr --setprovideroutputsource modesetting NVIDIA-0
xrandr --auto
</code></pre>
<p><strong>GDM</strong></p>
<pre><code class="language-shell">åˆ›å»ºä¸¤ä¸ªæ¡Œé¢æ–‡ä»¶
sudo mkdir /usr/share/gdm/greeter/autostart/optimus.desktop
sudo mkdir /etc/xdg/autostart/optimus.desktop
----------------------------------------------------------------------
[Desktop Entry]
Type=Application
Name=Optimus
Exec=sh -c &quot;xrandr --setprovideroutputsource modesetting NVIDIA-0; xrandr --auto&quot;
NoDisplay=true
X-GNOME-Autostart-Phase=DisplayServer
</code></pre>
<p><strong>ä¿®æ”¹é…ç½®æ–‡ä»¶</strong></p>
<pre><code class="language-shell">vim /etc/X11/xorg.conf
----------------------------------------------------------------------
Section &quot;Module&quot;                                                      
    load &quot;modesetting&quot;
EndSection

Section &quot;Device&quot;
    Identifier     &quot;Device0&quot;
    Driver         &quot;nvidia&quot;
    VendorName     &quot;NVIDIA Corporation&quot;
    BusID          &quot;1:0:0&quot;                                            #æ­¤å¤„å¡«åˆšåˆšæŸ¥è¯¢åˆ°çš„BusID
    Option         &quot;AllowEmptyInitialConfiguration&quot;
EndSection
</code></pre>
<hr> 
<h2 id="auræº-backarchæº">Auræº \ Backarchæº</h2>
<h6 id="archlinux_wiki-aurå®‰è£…"><strong><a href="https://wiki.archlinux.org/index.php/AUR_helpers_(%E7%AE%80%E4%BD%93%E4%B8%AD%E6%96%87)">ArchLinux_Wiki - AURå®‰è£…</a></strong></h6>
<h6 id="aurå·¥å…·-yay"><strong><a href="https://github.com/Jguer/yay">AURå·¥å…· - yay</a></strong></h6>
<h6 id="ç§‘å­¦ä¸Šç½‘-electron-ssr"><strong><a href="https://gitee.com/auroot/arch_wiki/releases/electron-ssr">ç§‘å­¦ä¸Šç½‘ - electron-ssr</a></strong></h6>
<ul>
<li>
<h3 id="ä¸­ç§‘å¤§">ä¸­ç§‘å¤§</h3>
</li>
</ul>
<pre><code class="language-shell">echo '' &gt;&gt; /etc/pacman.conf
echo '[archlinuxcn]' &gt;&gt; /etc/pacman.conf
echo 'SigLevel = Optional TrustedOnly' &gt;&gt; /etc/pacman.conf
echo 'Server = https://mirrors.ustc.edu.cn/archlinuxcn/$arch' &gt;&gt; /etc/pacman.conf
</code></pre>
<ul>
<li>
<h3 id="æ¸…å">æ¸…å</h3>
</li>
</ul>
<pre><code class="language-shell">echo '' &gt;&gt; /etc/pacman.conf
echo '[archlinuxcn]' &gt;&gt; /etc/pacman.conf
echo 'SigLevel = Optional TrustedOnly' &gt;&gt; /etc/pacman.conf
echo 'Server = https://mirrors.tuna.tsinghua.edu.cn/archlinuxcn/$arch' &gt;&gt; /etc/pacman.conf
</code></pre>
<ul>
<li>
<h3 id="163">163</h3>
</li>
</ul>
<pre><code class="language-shell">echo '' &gt;&gt; /etc/pacman.conf
echo '[archlinuxcn]' &gt;&gt; /etc/pacman.conf
echo 'SigLevel = Optional TrustedOnly' &gt;&gt; /etc/pacman.conf
echo 'Server = http://mirrors.163.com/archlinux-cn/$arch' &gt;&gt; /etc/pacman.conf
</code></pre>
<h3 id="blackarch">Blackarch</h3>
<ul>
<li>
<h3 id="æ¸…å-2">æ¸…å</h3>
</li>
</ul>
<pre><code class="language-shell">echo '' &gt;&gt; /etc/pacman.conf
echo '[blackarch]' &gt;&gt; /etc/pacman.conf
echo 'SigLevel = Optional TrustAll' &gt;&gt; /etc/pacman.conf
echo 'Server = https://mirrors.tuna.tsinghua.edu.cn/blackarch/$repo/os/$arch' &gt;&gt; /etc/pacman.conf
</code></pre>
<pre><code class="language-shell">    sudo pacman -Syu yaourt yay
    sudo pacman -Syu archlinuxcn-keyring
</code></pre>
<hr>
<h1 id="å¸¸ç”¨è½¯ä»¶">å¸¸ç”¨è½¯ä»¶</h1>
<pre><code class="language-shell">sudo pacman -S vim git wget zsh  dosfstools man-pages-zh_cn create_ap p7zip file-roller unrar neofetch openssh 

sudo pacman -S google-chrome        # è°·æ­Œæµè§ˆå™¨
sudo pacman -S firefox                      # ç«ç‹æµè§ˆå™¨
sudo pacman -S bash-complete        # å¢å¼ºè‡ªåŠ¨è¡¥å…¨åŠŸèƒ½
sudo pacman -S xpdf                         # å®‰è£…pdfé˜…è¯»å™¨
sudo pacman -Sy yaourt                    # å¦å¤–ä¸€ä¸ªåŒ…ç®¡ç†å·¥å…·
sudo pacman -S cowsay                    # ç‰›çš„äºŒè¿›åˆ¶å›¾å½¢ï¼ˆ/usr/share/cowsï¼‰
sudo yaourt -S vundle-git                 # å®‰è£…vimçš„æ’ä»¶ç®¡ç†å™¨
sudo pacman -S deepin.com.qq.office	# TIM
sudo pacman -S deepin-movie         # æ·±åº¦å½±é™¢
sudo yaourt -S deepin-wechat          # å¾®ä¿¡
sudo pacman -S netease-cloud-music  # ç½‘æ˜“äº‘éŸ³ä¹
sudo pacman -S iease-music          # ç¬¬ä¸‰æ–¹ç½‘æ˜“äº‘éŸ³ä¹
sudo pacman -S virtualbo               # virtualbox è™šæ‹Ÿæœº
sudo pacman -S vmware-workstation   # vmware è™šæ‹Ÿæœº
sudo pacman -S wps-office              # wps
sudo pacman -S remmina               # å¥½ç”¨è¿œç¨‹å·¥å…·

https://github.com/xtuJSer/CoCoMusic/releases   # QQéŸ³ä¹  CoCoMusic

sudo mandb                          # ä¸­æ–‡çš„manæ‰‹å†Œï¼Œæ›´æ–°å…³é”®è¯æœç´¢éœ€è¦çš„ç¼“å­˜
</code></pre>
<hr>
<p><strong>å®‰è£…å­—ä½“</strong><br>
<a href="https://wiki.archlinux.org/index.php/Fonts_(%E7%AE%80%E4%BD%93%E4%B8%AD%E6%96%87)">ArchLinux_Wiki - å­—ä½“</a></p>
<ul>
<li>å…¨éƒ¨å®‰è£…ï¼š</li>
</ul>
<pre><code class="language-shell">sudo pacman -S --needed font-bh-ttf font-bitstream-speedo gsfonts sdl_ttf \
ttf-bitstream-vera ttf-dejavu ttf-liberation xorg-fonts-type1 ttf-ms-fonts \
gnu-free-fonts noto-fonts ttf-bitstream-vera ttf-caladea ttf-carlito \
ttf-croscore ttf-dejavu ttf-hack ttf-junicode ttf-linux-libertine \
opendesktop-fonts ttf-anonymous-pro ttf-arphic-ukai ttf-arphic-uming \
ttf-baekmuk ttf-cascadia-code ttf-cormorant ttf-droid ttf-fantasque-sans-mono \
ttf-fira-code ttf-fira-mono ttf-fira-sans ttf-font-awesome ttf-hanazono \
ttf-hannom ttf-ibm-plex ttf-inconsolata ttf-indic-otf ttf-ionicons \
ttf-jetbrains-mono ttf-joypixels ttf-khmer ttf-lato ttf-liberation \
ttf-linux-libertine-g ttf-nerd-fonts-symbols ttf-opensans ttf-proggy-clean \
ttf-roboto ttf-roboto-mono ttf-sazanami ttf-tibetan-machine ttf-ubuntu-font-family
</code></pre>
<hr>
<h3 id="tim-kde"><strong>TIM - KDE</strong></h3>
<p><strong>1ã€å®‰è£…TIM</strong></p>
<pre><code class="language-shell">sudo pacman -S deepin.com.qq.office 
</code></pre>
<p><strong>2ã€ç¬¬äºŒä¸ªåŒ…å¾ˆé‡è¦</strong></p>
<pre><code class="language-shell">sudo pacman -S gnome-settings-daemon
</code></pre>
<p><strong>3ã€æ‰“å¼€TIMï¼Œè‡ªå¯gsd-xsettings ï¼ˆæ¨èï¼‰ï¼Œåªå¯¹TIMæœ‰æ•ˆã€‚</strong></p>
<pre><code class="language-shell">sudo vim /usr/share/applications/deepin.com.qq.office.desktop

æ³¨é‡Šï¼š Exec=â€œ/opt/deepinwine/apps/Deepin-TIM/run.shâ€ -u %u
åŠ å…¥ï¼šExec=/usr/lib/gsd-xsettings || /opt/deepinwine/apps/Deepin-TIM/run.sh
</code></pre>
<hr>
<h3 id="sogouè¾“å…¥æ³•"><strong>sogouè¾“å…¥æ³•</strong></h3>
<p><a href="https://wiki.archlinux.org/index.php/Fcitx_(%E7%AE%80%E4%BD%93%E4%B8%AD%E6%96%87)">ArchLinux_Wiki - Fcitx</a></p>
<ul>
<li>å®‰è£…æœç‹—è¾“å…¥æ³•åŠå…¶ä¾èµ–</li>
</ul>
<pre><code class="language-shell">sudo pacman -S yaourt
yaourt -S qtwebkit-bin
# å®‰è£…æœç‹—è¾“å…¥æ³•åŠå…¶ä¾èµ–
sudo pacman -S fcitx fcitx-im fcitx-configtool fcitx-libpinyin kcm-fcitx fcitx-sogoupinyin
# é…ç½®è¾“å…¥æ³•çš„å·¥å…· -Uå‚æ•°æ˜¯å®‰è£…æœ¬åœ°åŒ….
 wget https://arch-archive.tuna.tsinghua.edu.cn/2019/04-29/community/os/x86_64/fcitx-qt4-4.2.9.6-1-x86_64.pkg.tar.xz  
sudo pacman -U fcitx-qt4-4.2.9.6-1-x86_64.pkg.tar.xz 
</code></pre>
<ul>
<li>é…ç½®ç¯å¢ƒ æŠŠä¸‹é¢çš„åŠ å…¥åˆ°`/.xporfile</li>
</ul>
<pre><code class="language-shell">sudo vim /etc/profile 
export GTK2_RC_FILES=&quot;$HOME/.gtkrc-2.0&quot;
export LC_CTYPE=zh_CN.UTF-8
export XMODIFIERS=@im=fcitx
export GTK_IM_MODULE=fcitx
export QT_IM_MODULE=fcitx
fcitx -d -r --enable sogou-qimpanel
</code></pre>
<pre><code class="language-shell">sudo vim /etc/environment
GTK_IM_MODULE=fcitx
QT_IM_MODULE=fcitx
XMODIFIERS=@im=fcitx

</code></pre>
<ul>
<li>ç»ˆç«¯è¿è¡Œqtconfig-qt4æ‰¾åˆ°interfaceé€‰é¡¹,åœ¨ä¸‹é¢çš„Defult Input Methodæ”¹ä¸ºfcitxç„¶åä¿å­˜é€€å‡º source /etc/profile é‡å¯ã€‚</li>
</ul>
<hr>
<h2 id="éšè—grubå¼•å¯¼èœå•">éšè—grubå¼•å¯¼èœå•</h2>
<p>å¦‚æœä½¿ç”¨äº†å…¶ä»–å¼•å¯¼ï¼Œå¯ä»¥éšè—linuxçš„grubå¼•å¯¼èœå•ï¼Œä¿®æ”¹ä¸‹é¢æ–‡ä»¶ï¼š</p>
<pre><code class="language-shell">sudo vim /etc/default/grub
</code></pre>
<pre><code class="language-shell">GRUB_DEFAULT=0
GRUB_HIDDEN_TIMEOUT=0
GRUB_HIDDEN_TIMEOUT_QUIET=true
GRUB_TIMEOUT=0
GRUB_DISTRIBUTOR=`lsb_release -i -s 2&gt; /dev/null || echo Debian`
GRUB_CMDLINE_LINUX_DEFAULT=&quot;quiet splash&quot;
GRUB_CMDLINE_LINUX=&quot;&quot;
GRUB_DISABLE_OS_PROBER=true
</code></pre>
<p>æ›´æ–°grubï¼š</p>
<pre><code class="language-shell">sudo grub-mkconfig -o /boot/grub/grub.cfg
</code></pre>
<h2 id="refind-å¼•å¯¼åŒç³»ç»Ÿ">rEFInd å¼•å¯¼åŒç³»ç»Ÿ</h2>
<p>å¦‚æœä½ çš„ç”µè„‘æ”¯æŒUEFIå¯åŠ¨å¼•å¯¼åˆå«Œå¼ƒé»˜è®¤çš„å¯åŠ¨ç•Œé¢ä¸‘ï¼Œä½ å¯ä»¥ä½¿ç”¨rEFIndæ¥ç®¡ç†ä½ çš„å¯åŠ¨é¡¹ï¼Œæ¨èä¸€ä¸ªä¸»é¢˜Minimal. å¼•å¯¼è®¾ç½®å¯å‚è€ƒrEFIndå¼•å¯¼Win10+Ubuntu14åŒç³»ç»Ÿ.<br>
æˆ‘çš„å¯åŠ¨ç•Œé¢æˆªå›¾ï¼š</p>
<pre><code>rEFIndï¼šhttps://github.com/EvanPurkhiser/rEFInd-minimal
rEFIndå¼•å¯¼Win10+Ubuntuï¼šhttps://www.cnblogs.com/shishiteng/p/5760345.html
</code></pre>
<hr>
<h2 id="fstabé…ç½®æ–‡ä»¶">Fstabé…ç½®æ–‡ä»¶</h2>
<pre><code class="language-shell"># Static information about the filesystems.
# See fstab(5) for details.
# &lt;file system&gt; &lt;dir&gt; &lt;type&gt; &lt;options&gt; &lt;dump&gt; &lt;pass&gt;

# /dev/sdb2
UUID=ID     /               ext4        rw,relatime     0   1

# /dev/sdb1
UUID=ID     /boot/efi       vfat         rw,relatime,fmask=0022,dmask=0022,codepage=437,iocharset=iso8859-1,shortname=mixed,utf8,errors=remount-ro   0   2

# /dev/sdb3
UUID=ID     none            swap        defaults        0   0

#/dev/nvme0n1p2  Windows file ntfs 
UUID=ID     /mnt/c          ntfs,ntfs-3g        defaults,auto,uid=1000,gid=985,umask=002,iocharset=utf8     0   0
</code></pre>
<h3 id="virtualbox">VirtualBox</h3>
<ul>
<li>VirtualBox æ‹“å±•</li>
</ul>
<pre><code class="language-shell">sudo pacman -S virtualbox-guest-utils  (For Virtualbox)
</code></pre>
<h1 id="zsh">zsh</h1>
<h4 id="è‡ªåŠ¨è¡¥å…¨">è‡ªåŠ¨è¡¥å…¨.</h4>
<pre><code>https://mimosa-pudica.net/zsh-incremental.html
chmod 777 ï½/.oh-my-zsh/plugins/incr/incr-0.2.zsh
source ~/.oh-my-zsh/plugins/incr/incr-0.2.zsh
</code></pre>
<h4 id="autojumpæ’ä»¶ä½¿ä½ èƒ½å¤Ÿå¿«é€Ÿåˆ‡æ¢è·¯å¾„å†ä¹Ÿä¸éœ€è¦é€ä¸ªæ•²å…¥ç›®å½•åªéœ€æ•²å…¥ç›®æ ‡ç›®å½•å°±å¯ä»¥è¿…é€Ÿåˆ‡æ¢ç›®å½•">autojumpæ’ä»¶ä½¿ä½ èƒ½å¤Ÿå¿«é€Ÿåˆ‡æ¢è·¯å¾„ï¼Œå†ä¹Ÿä¸éœ€è¦é€ä¸ªæ•²å…¥ç›®å½•ï¼Œåªéœ€æ•²å…¥ç›®æ ‡ç›®å½•ï¼Œå°±å¯ä»¥è¿…é€Ÿåˆ‡æ¢ç›®å½•ã€‚</h4>
<pre><code>git clone git://github.com/joelthelion/autojump.git
./install.py  
# åœ¨ï½/.zshrcæ–‡ä»¶ä¸­åŠ å…¥æ­¤å¥
[[ -s ~/.autojump/etc/profile.d/autojump.sh ]] &amp;&amp; . ~/.autojump/etc/profile.d/autojump.sh  
</code></pre>
<h4 id="å®‰è£…zsh-autosuggestions">å®‰è£…zsh-autosuggestions</h4>
<pre><code>git clone git://github.com/zsh-users/zsh-autosuggestions $ZSH_CUSTOM/plugins/zsh-autosuggestions
plugins=(zsh-autosuggestions)

</code></pre>
<h4 id="è®¾ç½®å‘½ä»¤æ­£ç¡®ç»¿è‰²é«˜äº®é”™è¯¯çº¢è‰²é«˜äº®">è®¾ç½®å‘½ä»¤æ­£ç¡®ç»¿è‰²é«˜äº®,é”™è¯¯çº¢è‰²é«˜äº®</h4>
<pre><code>git clone git://github.com/jimmijj/zsh-syntax-highlighting ~/.oh-my-zsh/custom/plugins/zsh-syntax-highlighting
plugins=(zsh-syntax-highlighting)
</code></pre>
<h4 id="åŠ å¼ºzshçš„è¡¥å…¨åŠŸèƒ½å®ç°tabè‡ªåŠ¨çº é”™">åŠ å¼ºzshçš„è¡¥å…¨åŠŸèƒ½å®ç°tabè‡ªåŠ¨çº é”™</h4>
<h5 id="æŠŠè¿™ä¸¤å¥è¯æ·»åŠ åˆ°oh-my-zshlibcompletionzsh-æœ«å°¾">æŠŠè¿™ä¸¤å¥è¯æ·»åŠ åˆ°oh-my-zsh/lib/completion.zsh (æœ«å°¾)</h5>
<pre><code>zstyle ':completion:incremental:*' completer _complete _correct
zstyle ':completion:*' completer _complete _prefix _correct _prefix _match _approximate
</code></pre>
<h1 id="å¾…ç»­">å¾…ç»­....</h1>

          </div>
        </div>

        
      </div>

      
        
          <div id="gitalk-container"></div>
        

        
      

      <div class="site-footer">
  <div class="slogan">å°é¹¿å²è®°</div>
  <div class="social-container">
    
      
    
      
    
      
    
      
    
      
    
  </div>
  By <a href="https://basierl.github.io" target="_blank">Auroot</a> | <a class="rss" href="http://49.235.197.200/atom.xml" target="_blank">RSS</a>
</div>


    </div>
    <script type="application/javascript">

hljs.initHighlightingOnLoad()

var app = new Vue({
  el: '#app',
  data: {
    menuVisible: false,
  },
})

</script>



  
    <script src="https://unpkg.com/gitalk/dist/gitalk.min.js"></script>
    <script>

      var gitalk = new Gitalk({
        clientID: '',
        clientSecret: '',
        repo: '',
        owner: '',
        admin: [''],
        id: (location.pathname).substring(0, 49),      // Ensure uniqueness and length less than 50
        distractionFreeMode: false  // Facebook-like distraction free mode
      })

      gitalk.render('gitalk-container')

    </script>
  

  




  </body>
</html>
