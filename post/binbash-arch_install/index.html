
<!DOCTYPE html>
<html>
  <head>
    
<meta charset="utf-8" >

<title>#!/bin/bash  ## Arch_install | Auroot - Blog</title>
<meta name="description" content="小鹿史记">

<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/3.7.0/animate.min.css">

<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.7.2/css/all.css" integrity="sha384-fnmOCqbTlWIlj8LyTjo7mOUStjsKC4pOpQbqyi7RrhN7udi9RwhKkMHpvLbHG9Sr" crossorigin="anonymous">
<link rel="shortcut icon" href="https://basierl.github.io/favicon.ico?v=1594025674874">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.10.0/katex.min.css">
<link rel="stylesheet" href="https://basierl.github.io/styles/main.css">


  
    <link rel="stylesheet" href="https://unpkg.com/gitalk/dist/gitalk.css" />
  

  


<script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>
<script src="https://cdn.bootcss.com/highlight.js/9.12.0/highlight.min.js"></script>



  </head>
  <body>
    <div id="app" class="main">
      <div class="site-header-container">
  <div class="site-header">
    <div class="left">
      <a href="https://basierl.github.io">
        <img class="avatar" src="https://basierl.github.io/images/avatar.png?v=1594025674874" alt="" width="32px" height="32px">
      </a>
      <a href="https://basierl.github.io">
        <h1 class="site-title">Auroot - Blog</h1>
      </a>
    </div>
    <div class="right">
      <transition name="fade">
        <i class="icon" :class="{ 'icon-close-outline': menuVisible, 'icon-menu-outline': !menuVisible }" @click="menuVisible = !menuVisible"></i>
      </transition>
    </div>
  </div>
</div>

<transition name="fade">
  <div class="menu-container" style="display: none;" v-show="menuVisible">
    <div class="menu-list">
      
        
          <a href="/" class="menu purple-link">
            首页
          </a>
        
      
        
          <a href="/archives" class="menu purple-link">
            归档
          </a>
        
      
        
          <a href="/tags" class="menu purple-link">
            标签
          </a>
        
      
        
          <a href="/post/about" class="menu purple-link">
            关于
          </a>
        
      
    </div>
  </div>
</transition>


      <div class="content-container">
        <div class="post-detail">
          
          <h2 class="post-title">#!/bin/bash  ## Arch_install</h2>
          <div class="post-info post-detail-info">
            <span><i class="icon-calendar-outline"></i> 2020-07-06</span>
            
          </div>
          <div class="post-content">
            <p>#!/bin/bash</p>
<h1 id="author-aurootbasierl">Author: Auroot/BaSierl</h1>
<h1 id="qq-2763833502">QQ： 2763833502</h1>
<h1 id="description-arch-linux-安装脚本-v33">Description： Arch Linux 安装脚本  V3.3</h1>
<h1 id="url-blog-httpsbasierlgithubio">URL Blog： https://basierl.github.io</h1>
<h1 id="url-github-httpsgithubcombasierlarch_installgit">URL GitHub： https://github.com/BaSierL/arch_install.git</h1>
<h1 id="url-gitee-httpsgiteecomaurootarch_installgit">URL Gitee ： https://gitee.com/auroot/arch_install.git</h1>
<h1 id="日志文件tmparch_installlog">日志文件:/tmp/Arch_install.log</h1>
<h1 id="write_log">Write_Log(){</h1>
<h1 id="tee-a-tmpinstall_temp-echo-date-d-2-second-y-m-d-hms-cat-tmpinstall_temp-tmparch_installlog">tee -a /tmp/install_Temp | echo &quot;$(date -d &quot;2 second&quot; +&quot;%Y-%m-%d %H:%M:%S&quot;) :  $(cat /tmp/install_Temp)&quot; &gt;&gt; /tmp/Arch_install.log</h1>
<h1 id="">}</h1>
<p>echo &quot; &quot; &gt;&gt; /tmp/Arch_install.log<br>
echo &quot;Arch_install Script started&quot; &gt;&gt; /tmp/Arch_install.log<br>
echo &quot;Arch_install 脚本已启动&quot; &gt;&gt; /tmp/Arch_install.log</p>
<p>#--函数------检查当前目录有没有update.sh文件，没有就导入<br>
Down_Update(){<br>
if [ ! -e update.sh ]; then<br>
curl -fsSL https://gitee.com/auroot/Arch_install/raw/master/update.sh &gt; update.sh<br>
chmod +x update.sh<br>
fi<br>
bash $PWD/update.sh  # 检查更新Arch_install.sh<br>
}</p>
<h1 id="应用函数-如果觉得每次打开脚本速度很慢可以注释下面一行">应用函数  如果觉得每次打开脚本,速度很慢,可以注释下面一行!</h1>
<p>Down_Update</p>
<p>#====脚本颜色变量-------------#<br>
r='\033[1;31m'	#---红<br>
g='\033[1;32m'	#---绿<br>
y='\033[1;33m'	#---黄<br>
b='\033[1;36m'	#---蓝<br>
w='\033[1;37m'	#---白<br>
h='\033[0m'		#---后缀<br>
#-----------------------------#<br>
rw='\033[1;41m'    #--红白<br>
wg='\033[1;42m'    #--白绿<br>
ws='\033[1;43m'    #--白褐<br>
wb='\033[1;44m'    #--白蓝<br>
wq='\033[1;45m'    #--白紫<br>
wa='\033[1;46m'    #--白青<br>
wh='\033[1;46m'    #--白灰<br>
bx='\033[1;4;36m'  #---蓝 下划线<br>
#-----------------------------#</p>
<h1 id="交互-蓝">交互 蓝</h1>
<p>JHB=<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo>(</mo><mi>e</mi><mi>c</mi><mi>h</mi><mi>o</mi><mo>−</mo><mi>e</mi><mi mathvariant="normal">&quot;</mi></mrow><annotation encoding="application/x-tex">(echo -e &quot;</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord mathdefault">e</span><span class="mord mathdefault">c</span><span class="mord mathdefault">h</span><span class="mord mathdefault">o</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord mathdefault">e</span><span class="mord">&quot;</span></span></span></span>{b}-=&gt;${h} &quot;)</p>
<h1 id="交互-红">交互 红</h1>
<p>JHR=<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo>(</mo><mi>e</mi><mi>c</mi><mi>h</mi><mi>o</mi><mo>−</mo><mi>e</mi><mi mathvariant="normal">&quot;</mi></mrow><annotation encoding="application/x-tex">(echo -e &quot;</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord mathdefault">e</span><span class="mord mathdefault">c</span><span class="mord mathdefault">h</span><span class="mord mathdefault">o</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord mathdefault">e</span><span class="mord">&quot;</span></span></span></span>{r}-=&gt;${h} &quot;)</p>
<h1 id="交互-绿">交互 绿</h1>
<p>JHG=<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo>(</mo><mi>e</mi><mi>c</mi><mi>h</mi><mi>o</mi><mo>−</mo><mi>e</mi><mi mathvariant="normal">&quot;</mi></mrow><annotation encoding="application/x-tex">(echo -e &quot;</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord mathdefault">e</span><span class="mord mathdefault">c</span><span class="mord mathdefault">h</span><span class="mord mathdefault">o</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord mathdefault">e</span><span class="mord">&quot;</span></span></span></span>{g}-=&gt;${h} &quot;)</p>
<h1 id="交互-黄">交互 黄</h1>
<p>JHY=<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo>(</mo><mi>e</mi><mi>c</mi><mi>h</mi><mi>o</mi><mo>−</mo><mi>e</mi><mi mathvariant="normal">&quot;</mi></mrow><annotation encoding="application/x-tex">(echo -e &quot;</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord mathdefault">e</span><span class="mord mathdefault">c</span><span class="mord mathdefault">h</span><span class="mord mathdefault">o</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord mathdefault">e</span><span class="mord">&quot;</span></span></span></span>{y}-=&gt;${h} &quot;)<br>
#-----------------------------</p>
<h1 id="提示-蓝">提示 蓝</h1>
<p>PSB=<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo>(</mo><mi>e</mi><mi>c</mi><mi>h</mi><mi>o</mi><mo>−</mo><mi>e</mi><mi mathvariant="normal">&quot;</mi></mrow><annotation encoding="application/x-tex">(echo -e &quot;</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord mathdefault">e</span><span class="mord mathdefault">c</span><span class="mord mathdefault">h</span><span class="mord mathdefault">o</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord mathdefault">e</span><span class="mord">&quot;</span></span></span></span>{b} ::==&gt;${h}&quot;)</p>
<h1 id="提示-红">提示 红</h1>
<p>PSR=<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo>(</mo><mi>e</mi><mi>c</mi><mi>h</mi><mi>o</mi><mo>−</mo><mi>e</mi><mi mathvariant="normal">&quot;</mi></mrow><annotation encoding="application/x-tex">(echo -e &quot;</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord mathdefault">e</span><span class="mord mathdefault">c</span><span class="mord mathdefault">h</span><span class="mord mathdefault">o</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord mathdefault">e</span><span class="mord">&quot;</span></span></span></span>{r} ::==&gt;${h}&quot;)</p>
<h1 id="提示-绿">提示 绿</h1>
<p>PSG=<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo>(</mo><mi>e</mi><mi>c</mi><mi>h</mi><mi>o</mi><mo>−</mo><mi>e</mi><mi mathvariant="normal">&quot;</mi></mrow><annotation encoding="application/x-tex">(echo -e &quot;</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord mathdefault">e</span><span class="mord mathdefault">c</span><span class="mord mathdefault">h</span><span class="mord mathdefault">o</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord mathdefault">e</span><span class="mord">&quot;</span></span></span></span>{g} ::==&gt;${h}&quot;)</p>
<h1 id="提示-黄">提示 黄</h1>
<p>PSY=<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo>(</mo><mi>e</mi><mi>c</mi><mi>h</mi><mi>o</mi><mo>−</mo><mi>e</mi><mi mathvariant="normal">&quot;</mi></mrow><annotation encoding="application/x-tex">(echo -e &quot;</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord mathdefault">e</span><span class="mord mathdefault">c</span><span class="mord mathdefault">h</span><span class="mord mathdefault">o</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord mathdefault">e</span><span class="mord">&quot;</span></span></span></span>{y} ::==&gt;<span class='katex-error' title='ParseError: KaTeX parse error: Expected &#039;EOF&#039;, got &#039;#&#039; at position 7: {h}&quot;)
#̲---------------…'>{h}&quot;)
#-----------------------------
#--------检查当前目录有没有mirrorlist.sh文件，没有就导入
if [ ! -e mirrorlist.sh ]; then
    curl -fsSL https://gitee.com/auroot/Arch_install/raw/master/mirrorlist.sh  &gt; mirrorlist.sh  
    chmod +x mirrorlist.sh
fi 
null=&quot;/dev/null&quot;
#========判断当前模式
#------因暂时还不知道怎么得知当前是否为Chroot模式，所以必须使用脚本分区后，才知道处于什么模式！
#------如果是以自行分区，也可以手动在 新系统根目录创建/mnt/diskName_root文件，文件上级目录必须为 /mnt
if [ -e /diskName_root ];then
    ChrootPattern=</span>(echo -e &quot;<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>g</mi><mi>C</mi><mi>h</mi><mi>r</mi><mi>o</mi><mi>o</mi><mi>t</mi><mo>−</mo><mi>O</mi><mi>N</mi></mrow><annotation encoding="application/x-tex">{g}Chroot-ON</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.03588em;">g</span></span><span class="mord mathdefault" style="margin-right:0.07153em;">C</span><span class="mord mathdefault">h</span><span class="mord mathdefault" style="margin-right:0.02778em;">r</span><span class="mord mathdefault">o</span><span class="mord mathdefault">o</span><span class="mord mathdefault">t</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.02778em;">O</span><span class="mord mathdefault" style="margin-right:0.10903em;">N</span></span></span></span>{h}&quot;)<br>
else<br>
ChrootPattern=<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo>(</mo><mi>e</mi><mi>c</mi><mi>h</mi><mi>o</mi><mo>−</mo><mi>e</mi><mi mathvariant="normal">&quot;</mi></mrow><annotation encoding="application/x-tex">(echo -e &quot;</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord mathdefault">e</span><span class="mord mathdefault">c</span><span class="mord mathdefault">h</span><span class="mord mathdefault">o</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord mathdefault">e</span><span class="mord">&quot;</span></span></span></span>{r}Chroot-OFF${h}&quot;)<br>
fi</p>
<p>#========变量<br>
#------ArchLinux<br>
clear;<br>
ECHOA=<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo>(</mo><mi>e</mi><mi>c</mi><mi>h</mi><mi>o</mi><mo>−</mo><mi>e</mi><mi mathvariant="normal">&quot;</mi></mrow><annotation encoding="application/x-tex">(echo -e &quot;</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord mathdefault">e</span><span class="mord mathdefault">c</span><span class="mord mathdefault">h</span><span class="mord mathdefault">o</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord mathdefault">e</span><span class="mord">&quot;</span></span></span></span>{w}    _             _       _     _                    <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>h</mi><mi mathvariant="normal">&quot;</mi><mo>)</mo><mi>E</mi><mi>C</mi><mi>H</mi><mi>O</mi><mi>B</mi><mo>=</mo></mrow><annotation encoding="application/x-tex">{h}&quot;) 
ECHOB=</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathdefault">h</span></span><span class="mord">&quot;</span><span class="mclose">)</span><span class="mord mathdefault" style="margin-right:0.05764em;">E</span><span class="mord mathdefault" style="margin-right:0.07153em;">C</span><span class="mord mathdefault" style="margin-right:0.08125em;">H</span><span class="mord mathdefault" style="margin-right:0.02778em;">O</span><span class="mord mathdefault" style="margin-right:0.05017em;">B</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span></span></span></span>(echo -e &quot;${g}   / \   _ __ <em><strong>| |</strong>   | |   (</em>)_ __  _   ___  _   <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>h</mi><mi mathvariant="normal">&quot;</mi><mo>)</mo><mi>E</mi><mi>C</mi><mi>H</mi><mi>O</mi><mi>C</mi><mo>=</mo></mrow><annotation encoding="application/x-tex">{h}&quot;)
ECHOC=</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathdefault">h</span></span><span class="mord">&quot;</span><span class="mclose">)</span><span class="mord mathdefault" style="margin-right:0.05764em;">E</span><span class="mord mathdefault" style="margin-right:0.07153em;">C</span><span class="mord mathdefault" style="margin-right:0.08125em;">H</span><span class="mord mathdefault" style="margin-right:0.02778em;">O</span><span class="mord mathdefault" style="margin-right:0.07153em;">C</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span></span></span></span>(echo -e &quot;${b}  / _ \ | '<strong>/ <em><em>| '</em> \  | |   | | '</em> | | | \ / /  <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>h</mi><mi mathvariant="normal">&quot;</mi><mo>)</mo><mi>E</mi><mi>C</mi><mi>H</mi><mi>O</mi><mi>D</mi><mo>=</mo></mrow><annotation encoding="application/x-tex">{h}&quot;)
ECHOD=</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathdefault">h</span></span><span class="mord">&quot;</span><span class="mclose">)</span><span class="mord mathdefault" style="margin-right:0.05764em;">E</span><span class="mord mathdefault" style="margin-right:0.07153em;">C</span><span class="mord mathdefault" style="margin-right:0.08125em;">H</span><span class="mord mathdefault" style="margin-right:0.02778em;">O</span><span class="mord mathdefault" style="margin-right:0.02778em;">D</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span></span></span></span>(echo -e &quot;${y} / ___ | | | (</strong>| | | | | |<em><em><em>| | | | | |</em>| |&gt;  &lt;   <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>h</mi><mi mathvariant="normal">&quot;</mi><mo>)</mo><mi>E</mi><mi>C</mi><mi>H</mi><mi>O</mi><mi>E</mi><mo>=</mo></mrow><annotation encoding="application/x-tex">{h}&quot;)
ECHOE=</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathdefault">h</span></span><span class="mord">&quot;</span><span class="mclose">)</span><span class="mord mathdefault" style="margin-right:0.05764em;">E</span><span class="mord mathdefault" style="margin-right:0.07153em;">C</span><span class="mord mathdefault" style="margin-right:0.08125em;">H</span><span class="mord mathdefault" style="margin-right:0.02778em;">O</span><span class="mord mathdefault" style="margin-right:0.05764em;">E</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span></span></span></span>(echo -e &quot;${r}/</em>/   __|  _</em><em>|<em>| |</em>| |</em>____|<em>|</em>| |<em>|_</em>,<em>/</em>/_\  <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>h</mi><mi mathvariant="normal">&quot;</mi><mo>)</mo><mi>e</mi><mi>c</mi><mi>h</mi><mi>o</mi><mo>−</mo><mi>e</mi><mi mathvariant="normal">&quot;</mi></mrow><annotation encoding="application/x-tex">{h}&quot;)
echo -e &quot;</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathdefault">h</span></span><span class="mord">&quot;</span><span class="mclose">)</span><span class="mord mathdefault">e</span><span class="mord mathdefault">c</span><span class="mord mathdefault">h</span><span class="mord mathdefault">o</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord mathdefault">e</span><span class="mord">&quot;</span></span></span></span>ECHOA\n<span class='katex-error' title='ParseError: KaTeX parse error: Undefined control sequence: \n at position 6: ECHOB\̲n̲'>ECHOB\n</span>ECHOC\n<span class='katex-error' title='ParseError: KaTeX parse error: Undefined control sequence: \n at position 6: ECHOD\̲n̲'>ECHOD\n</span>ECHOE&quot; | lolcat 2&gt; <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mrow><mi>n</mi><mi>u</mi><mi>l</mi><mi>l</mi></mrow><mi mathvariant="normal">∣</mi><mi mathvariant="normal">∣</mi><mi>e</mi><mi>c</mi><mi>h</mi><mi>o</mi><mo>−</mo><mi>e</mi><mi mathvariant="normal">&quot;</mi></mrow><annotation encoding="application/x-tex">{null} || echo -e &quot;</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathdefault">n</span><span class="mord mathdefault">u</span><span class="mord mathdefault" style="margin-right:0.01968em;">l</span><span class="mord mathdefault" style="margin-right:0.01968em;">l</span></span><span class="mord">∣</span><span class="mord">∣</span><span class="mord mathdefault">e</span><span class="mord mathdefault">c</span><span class="mord mathdefault">h</span><span class="mord mathdefault">o</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord mathdefault">e</span><span class="mord">&quot;</span></span></span></span>ECHOA\n<span class='katex-error' title='ParseError: KaTeX parse error: Undefined control sequence: \n at position 6: ECHOB\̲n̲'>ECHOB\n</span>ECHOC\n<span class='katex-error' title='ParseError: KaTeX parse error: Undefined control sequence: \n at position 6: ECHOD\̲n̲'>ECHOD\n</span>ECHOE&quot;</p>
<h1 id="文件位置变量">文件位置变量</h1>
<p>tmps=&quot;$PWD/arch_tmp&quot;</p>
<h1 id="mirrorlistsh-脚本位置">mirrorlist.sh 脚本位置</h1>
<p>MIRROR_SH=&quot;$PWD/mirrorlist.sh&quot;<br>
chmod +x <span class='katex-error' title='ParseError: KaTeX parse error: Expected &#039;EOF&#039;, got &#039;&amp;&#039; at position 14: {MIRROR_SH} 2&amp;̲&gt;'>{MIRROR_SH} 2&amp;&gt;</span>{null}</p>
<h1 id="位置">位置</h1>
<p>LIST_IN=&quot;$PWD/$0&quot;</p>
<h1 id="初始密码">初始密码</h1>
<p>PASS=&quot;123456&quot;<br>
#systemctl start dhcpcd &amp;&gt; ${null}</p>
<p>#========网络变量<br>
#有线<br>
ETHERNET=<code>ip link | grep 'enp[0-9]s[0-9]' | grep -v 'grep' | awk '{print $2}' | cut -d&quot;:&quot; -f1</code><br>
#无线<br>
WIFI=<code>ip link | grep 'wlp[0-9]s[0-9]' | grep -v 'grep' | awk '{print $2}' | cut -d&quot;:&quot; -f1</code></p>
<p>#WIFI_IP=<code>ifconfig ${WIFI} &amp;&gt; $null || echo &quot;--.--.--.--&quot; &amp;&amp; ifconfig ${WIFI} | grep ./a&quot;inet &quot; | awk '{print $2}'</code><br>
#ETHERNET_IP=<code>ifconfig ${ETHERNET} &amp;&gt; $null || echo &quot;--.--.--.--&quot; &amp;&amp; ifconfig ${ETHERNET} | grep &quot;inet &quot; | awk '{print $2}'</code></p>
<p>ETHERNET_IP=<code>ip route | grep &quot;${ETHERNET}&quot; &amp;&gt; ${null} &amp;&amp; ip route list | grep &quot;${ETHERNET}&quot; | cut -d&quot; &quot; -f9 | sed -n '2,1p'</code><br>
WIFI_IP=<code>ip route | grep ${WIFI} &amp;&gt; ${null} &amp;&amp; ip route list | grep ${WIFI} | cut -d&quot; &quot; -f9 | sed -n '2,1p'</code></p>
<p>#<mark><mark><mark><mark>选项<br>
Tips1=<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo>(</mo><mi>e</mi><mi>c</mi><mi>h</mi><mi>o</mi><mo>−</mo><mi>e</mi><mi mathvariant="normal">&quot;</mi></mrow><annotation encoding="application/x-tex">(echo -e &quot;</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord mathdefault">e</span><span class="mord mathdefault">c</span><span class="mord mathdefault">h</span><span class="mord mathdefault">o</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord mathdefault">e</span><span class="mord">&quot;</span></span></span></span>{b}||</mark></mark></mark></mark>============================================================||<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>h</mi><mi mathvariant="normal">&quot;</mi><mo>)</mo><mi>T</mi><mi>i</mi><mi>p</mi><mi>s</mi><mn>2</mn><mo>=</mo></mrow><annotation encoding="application/x-tex">{h}&quot;)
Tips2=</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathdefault">h</span></span><span class="mord">&quot;</span><span class="mclose">)</span><span class="mord mathdefault" style="margin-right:0.13889em;">T</span><span class="mord mathdefault">i</span><span class="mord mathdefault">p</span><span class="mord mathdefault">s</span><span class="mord">2</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span></span></span></span>(echo -e &quot;${b}|| Script Name:        Arch Linux system installation script.           <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>h</mi><mi mathvariant="normal">&quot;</mi><mo>)</mo><mi>T</mi><mi>i</mi><mi>p</mi><mi>s</mi><mn>3</mn><mo>=</mo></mrow><annotation encoding="application/x-tex">{h}&quot;) 
Tips3=</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathdefault">h</span></span><span class="mord">&quot;</span><span class="mclose">)</span><span class="mord mathdefault" style="margin-right:0.13889em;">T</span><span class="mord mathdefault">i</span><span class="mord mathdefault">p</span><span class="mord mathdefault">s</span><span class="mord">3</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span></span></span></span>(echo -e &quot;${b}|| Author:             Auroot                                           <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>h</mi><mi mathvariant="normal">&quot;</mi><mo>)</mo><mi>T</mi><mi>i</mi><mi>p</mi><mi>s</mi><mn>4</mn><mo>=</mo></mrow><annotation encoding="application/x-tex">{h}&quot;)
Tips4=</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathdefault">h</span></span><span class="mord">&quot;</span><span class="mclose">)</span><span class="mord mathdefault" style="margin-right:0.13889em;">T</span><span class="mord mathdefault">i</span><span class="mord mathdefault">p</span><span class="mord mathdefault">s</span><span class="mord">4</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span></span></span></span>(echo -e &quot;${b}|| Gitee:	       <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mrow><mi>b</mi><mi>x</mi></mrow><mi>h</mi><mi>t</mi><mi>t</mi><mi>p</mi><mi>s</mi><mo>:</mo><mi mathvariant="normal">/</mi><mi mathvariant="normal">/</mi><mi>g</mi><mi>i</mi><mi>t</mi><mi>e</mi><mi>e</mi><mi mathvariant="normal">.</mi><mi>c</mi><mi>o</mi><mi>m</mi><mi mathvariant="normal">/</mi><mi>a</mi><mi>u</mi><mi>r</mi><mi>o</mi><mi>o</mi><mi>t</mi><mi mathvariant="normal">/</mi><mi>A</mi><mi>r</mi><mi>c</mi><msub><mi>h</mi><mi>i</mi></msub><mi>n</mi><mi>s</mi><mi>t</mi><mi>a</mi><mi>l</mi><mi>l</mi></mrow><annotation encoding="application/x-tex">{bx}https://gitee.com/auroot/Arch_install</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span class="mord"><span class="mord mathdefault">b</span><span class="mord mathdefault">x</span></span><span class="mord mathdefault">h</span><span class="mord mathdefault">t</span><span class="mord mathdefault">t</span><span class="mord mathdefault">p</span><span class="mord mathdefault">s</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">:</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">/</span><span class="mord">/</span><span class="mord mathdefault" style="margin-right:0.03588em;">g</span><span class="mord mathdefault">i</span><span class="mord mathdefault">t</span><span class="mord mathdefault">e</span><span class="mord mathdefault">e</span><span class="mord">.</span><span class="mord mathdefault">c</span><span class="mord mathdefault">o</span><span class="mord mathdefault">m</span><span class="mord">/</span><span class="mord mathdefault">a</span><span class="mord mathdefault">u</span><span class="mord mathdefault" style="margin-right:0.02778em;">r</span><span class="mord mathdefault">o</span><span class="mord mathdefault">o</span><span class="mord mathdefault">t</span><span class="mord">/</span><span class="mord mathdefault">A</span><span class="mord mathdefault" style="margin-right:0.02778em;">r</span><span class="mord mathdefault">c</span><span class="mord"><span class="mord mathdefault">h</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord mathdefault">n</span><span class="mord mathdefault">s</span><span class="mord mathdefault">t</span><span class="mord mathdefault">a</span><span class="mord mathdefault" style="margin-right:0.01968em;">l</span><span class="mord mathdefault" style="margin-right:0.01968em;">l</span></span></span></span>{h}        <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>h</mi><mi mathvariant="normal">&quot;</mi><mo>)</mo><mi>T</mi><mi>i</mi><mi>p</mi><mi>s</mi><mn>5</mn><mo>=</mo></mrow><annotation encoding="application/x-tex">{h}&quot;)  
Tips5=</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathdefault">h</span></span><span class="mord">&quot;</span><span class="mclose">)</span><span class="mord mathdefault" style="margin-right:0.13889em;">T</span><span class="mord mathdefault">i</span><span class="mord mathdefault">p</span><span class="mord mathdefault">s</span><span class="mord">5</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span></span></span></span>(echo -e &quot;${g}|| Pattern:            ${ChrootPattern}                                 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>h</mi><mi mathvariant="normal">&quot;</mi><mo>)</mo><mi>T</mi><mi>i</mi><mi>p</mi><mi>s</mi><mn>6</mn><mo>=</mo></mrow><annotation encoding="application/x-tex">{h}&quot;)
Tips6=</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathdefault">h</span></span><span class="mord">&quot;</span><span class="mclose">)</span><span class="mord mathdefault" style="margin-right:0.13889em;">T</span><span class="mord mathdefault">i</span><span class="mord mathdefault">p</span><span class="mord mathdefault">s</span><span class="mord">6</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span></span></span></span>(echo -e &quot;${g}|| Ethernet:           ${ETHERNET_IP:-No_network..}                     <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>h</mi><mi mathvariant="normal">&quot;</mi><mo>)</mo><mi>T</mi><mi>i</mi><mi>p</mi><mi>s</mi><mn>7</mn><mo>=</mo></mrow><annotation encoding="application/x-tex">{h}&quot;)
Tips7=</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathdefault">h</span></span><span class="mord">&quot;</span><span class="mclose">)</span><span class="mord mathdefault" style="margin-right:0.13889em;">T</span><span class="mord mathdefault">i</span><span class="mord mathdefault">p</span><span class="mord mathdefault">s</span><span class="mord">7</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span></span></span></span>(echo -e &quot;${g}|| WIFI:	       ${WIFI_IP:-No_network.}                               <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>h</mi><mi mathvariant="normal">&quot;</mi><mo>)</mo><mi>T</mi><mi>i</mi><mi>p</mi><mi>s</mi><mn>8</mn><mo>=</mo></mrow><annotation encoding="application/x-tex">{h}&quot;)
Tips8=</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathdefault">h</span></span><span class="mord">&quot;</span><span class="mclose">)</span><span class="mord mathdefault" style="margin-right:0.13889em;">T</span><span class="mord mathdefault">i</span><span class="mord mathdefault">p</span><span class="mord mathdefault">s</span><span class="mord">8</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span></span></span></span>(echo -e &quot;${g}|| SSH:                ssh <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>U</mi><mi>S</mi><mi>E</mi><mi>R</mi><mi mathvariant="normal">@</mi></mrow><annotation encoding="application/x-tex">USER@</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.10903em;">U</span><span class="mord mathdefault" style="margin-right:0.05764em;">S</span><span class="mord mathdefault" style="margin-right:0.05764em;">E</span><span class="mord mathdefault" style="margin-right:0.00773em;">R</span><span class="mord">@</span></span></span></span>{ETHERNET_IP:-IP_Addess.}             <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>h</mi><mi mathvariant="normal">&quot;</mi><mo>)</mo><mi>T</mi><mi>i</mi><mi>p</mi><mi>s</mi><mn>9</mn><mo>=</mo></mrow><annotation encoding="application/x-tex">{h}&quot;)
Tips9=</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathdefault">h</span></span><span class="mord">&quot;</span><span class="mclose">)</span><span class="mord mathdefault" style="margin-right:0.13889em;">T</span><span class="mord mathdefault">i</span><span class="mord mathdefault">p</span><span class="mord mathdefault">s</span><span class="mord">9</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span></span></span></span>(echo -e &quot;${g}|| SSH:                ssh <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>U</mi><mi>S</mi><mi>E</mi><mi>R</mi><mi mathvariant="normal">@</mi></mrow><annotation encoding="application/x-tex">USER@</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.10903em;">U</span><span class="mord mathdefault" style="margin-right:0.05764em;">S</span><span class="mord mathdefault" style="margin-right:0.05764em;">E</span><span class="mord mathdefault" style="margin-right:0.00773em;">R</span><span class="mord">@</span></span></span></span>{WIFI_IP:-IP_Addess.}                 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>h</mi><mi mathvariant="normal">&quot;</mi><mo>)</mo><mi>T</mi><mi>i</mi><mi>p</mi><mi>s</mi><mn>0</mn><mo>=</mo></mrow><annotation encoding="application/x-tex">{h}&quot;)
Tips0=</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathdefault">h</span></span><span class="mord">&quot;</span><span class="mclose">)</span><span class="mord mathdefault" style="margin-right:0.13889em;">T</span><span class="mord mathdefault">i</span><span class="mord mathdefault">p</span><span class="mord mathdefault">s</span><span class="mord">0</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span></span></span></span>(echo -e &quot;<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>g</mi><mi mathvariant="normal">∣</mi><mi mathvariant="normal">∣</mi><mo>=</mo><mo>=</mo><mo>=</mo><mo>=</mo><mo>=</mo><mo>=</mo><mo>=</mo><mo>=</mo><mo>=</mo><mo>=</mo><mo>=</mo><mo>=</mo><mo>=</mo><mo>=</mo><mo>=</mo><mo>=</mo><mo>=</mo><mo>=</mo><mo>=</mo><mo>=</mo><mo>=</mo><mo>=</mo><mo>=</mo><mo>=</mo><mo>=</mo><mo>=</mo><mo>=</mo><mo>=</mo><mo>=</mo><mo>=</mo><mo>=</mo><mo>=</mo><mo>=</mo><mo>=</mo><mo>=</mo><mo>=</mo><mo>=</mo><mo>=</mo><mo>=</mo><mo>=</mo><mo>=</mo><mo>=</mo><mo>=</mo><mo>=</mo><mo>=</mo><mo>=</mo><mo>=</mo><mo>=</mo><mo>=</mo><mo>=</mo><mo>=</mo><mo>=</mo><mo>=</mo><mo>=</mo><mo>=</mo><mo>=</mo><mo>=</mo><mo>=</mo><mo>=</mo><mo>=</mo><mo>=</mo><mo>=</mo><mo>=</mo><mo>=</mo><mo>=</mo><mo>=</mo><mo>=</mo><mo>=</mo><mi mathvariant="normal">∣</mi><mi mathvariant="normal">∣</mi></mrow><annotation encoding="application/x-tex">{g}||====================================================================||</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.03588em;">g</span></span><span class="mord">∣</span><span class="mord">∣</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span></span><span class="base"><span class="strut" style="height:0.36687em;vertical-align:0em;"></span><span class="mrel">=</span></span><span class="base"><span class="strut" style="height:0.36687em;vertical-align:0em;"></span><span class="mrel">=</span></span><span class="base"><span class="strut" style="height:0.36687em;vertical-align:0em;"></span><span class="mrel">=</span></span><span class="base"><span class="strut" style="height:0.36687em;vertical-align:0em;"></span><span class="mrel">=</span></span><span class="base"><span class="strut" style="height:0.36687em;vertical-align:0em;"></span><span class="mrel">=</span></span><span class="base"><span class="strut" style="height:0.36687em;vertical-align:0em;"></span><span class="mrel">=</span></span><span class="base"><span class="strut" style="height:0.36687em;vertical-align:0em;"></span><span class="mrel">=</span></span><span class="base"><span class="strut" style="height:0.36687em;vertical-align:0em;"></span><span class="mrel">=</span></span><span class="base"><span class="strut" style="height:0.36687em;vertical-align:0em;"></span><span class="mrel">=</span></span><span class="base"><span class="strut" style="height:0.36687em;vertical-align:0em;"></span><span class="mrel">=</span></span><span class="base"><span class="strut" style="height:0.36687em;vertical-align:0em;"></span><span class="mrel">=</span></span><span class="base"><span class="strut" style="height:0.36687em;vertical-align:0em;"></span><span class="mrel">=</span></span><span class="base"><span class="strut" style="height:0.36687em;vertical-align:0em;"></span><span class="mrel">=</span></span><span class="base"><span class="strut" style="height:0.36687em;vertical-align:0em;"></span><span class="mrel">=</span></span><span class="base"><span class="strut" style="height:0.36687em;vertical-align:0em;"></span><span class="mrel">=</span></span><span class="base"><span class="strut" style="height:0.36687em;vertical-align:0em;"></span><span class="mrel">=</span></span><span class="base"><span class="strut" style="height:0.36687em;vertical-align:0em;"></span><span class="mrel">=</span></span><span class="base"><span class="strut" style="height:0.36687em;vertical-align:0em;"></span><span class="mrel">=</span></span><span class="base"><span class="strut" style="height:0.36687em;vertical-align:0em;"></span><span class="mrel">=</span></span><span class="base"><span class="strut" style="height:0.36687em;vertical-align:0em;"></span><span class="mrel">=</span></span><span class="base"><span class="strut" style="height:0.36687em;vertical-align:0em;"></span><span class="mrel">=</span></span><span class="base"><span class="strut" style="height:0.36687em;vertical-align:0em;"></span><span class="mrel">=</span></span><span class="base"><span class="strut" style="height:0.36687em;vertical-align:0em;"></span><span class="mrel">=</span></span><span class="base"><span class="strut" style="height:0.36687em;vertical-align:0em;"></span><span class="mrel">=</span></span><span class="base"><span class="strut" style="height:0.36687em;vertical-align:0em;"></span><span class="mrel">=</span></span><span class="base"><span class="strut" style="height:0.36687em;vertical-align:0em;"></span><span class="mrel">=</span></span><span class="base"><span class="strut" style="height:0.36687em;vertical-align:0em;"></span><span class="mrel">=</span></span><span class="base"><span class="strut" style="height:0.36687em;vertical-align:0em;"></span><span class="mrel">=</span></span><span class="base"><span class="strut" style="height:0.36687em;vertical-align:0em;"></span><span class="mrel">=</span></span><span class="base"><span class="strut" style="height:0.36687em;vertical-align:0em;"></span><span class="mrel">=</span></span><span class="base"><span class="strut" style="height:0.36687em;vertical-align:0em;"></span><span class="mrel">=</span></span><span class="base"><span class="strut" style="height:0.36687em;vertical-align:0em;"></span><span class="mrel">=</span></span><span class="base"><span class="strut" style="height:0.36687em;vertical-align:0em;"></span><span class="mrel">=</span></span><span class="base"><span class="strut" style="height:0.36687em;vertical-align:0em;"></span><span class="mrel">=</span></span><span class="base"><span class="strut" style="height:0.36687em;vertical-align:0em;"></span><span class="mrel">=</span></span><span class="base"><span class="strut" style="height:0.36687em;vertical-align:0em;"></span><span class="mrel">=</span></span><span class="base"><span class="strut" style="height:0.36687em;vertical-align:0em;"></span><span class="mrel">=</span></span><span class="base"><span class="strut" style="height:0.36687em;vertical-align:0em;"></span><span class="mrel">=</span></span><span class="base"><span class="strut" style="height:0.36687em;vertical-align:0em;"></span><span class="mrel">=</span></span><span class="base"><span class="strut" style="height:0.36687em;vertical-align:0em;"></span><span class="mrel">=</span></span><span class="base"><span class="strut" style="height:0.36687em;vertical-align:0em;"></span><span class="mrel">=</span></span><span class="base"><span class="strut" style="height:0.36687em;vertical-align:0em;"></span><span class="mrel">=</span></span><span class="base"><span class="strut" style="height:0.36687em;vertical-align:0em;"></span><span class="mrel">=</span></span><span class="base"><span class="strut" style="height:0.36687em;vertical-align:0em;"></span><span class="mrel">=</span></span><span class="base"><span class="strut" style="height:0.36687em;vertical-align:0em;"></span><span class="mrel">=</span></span><span class="base"><span class="strut" style="height:0.36687em;vertical-align:0em;"></span><span class="mrel">=</span></span><span class="base"><span class="strut" style="height:0.36687em;vertical-align:0em;"></span><span class="mrel">=</span></span><span class="base"><span class="strut" style="height:0.36687em;vertical-align:0em;"></span><span class="mrel">=</span></span><span class="base"><span class="strut" style="height:0.36687em;vertical-align:0em;"></span><span class="mrel">=</span></span><span class="base"><span class="strut" style="height:0.36687em;vertical-align:0em;"></span><span class="mrel">=</span></span><span class="base"><span class="strut" style="height:0.36687em;vertical-align:0em;"></span><span class="mrel">=</span></span><span class="base"><span class="strut" style="height:0.36687em;vertical-align:0em;"></span><span class="mrel">=</span></span><span class="base"><span class="strut" style="height:0.36687em;vertical-align:0em;"></span><span class="mrel">=</span></span><span class="base"><span class="strut" style="height:0.36687em;vertical-align:0em;"></span><span class="mrel">=</span></span><span class="base"><span class="strut" style="height:0.36687em;vertical-align:0em;"></span><span class="mrel">=</span></span><span class="base"><span class="strut" style="height:0.36687em;vertical-align:0em;"></span><span class="mrel">=</span></span><span class="base"><span class="strut" style="height:0.36687em;vertical-align:0em;"></span><span class="mrel">=</span></span><span class="base"><span class="strut" style="height:0.36687em;vertical-align:0em;"></span><span class="mrel">=</span></span><span class="base"><span class="strut" style="height:0.36687em;vertical-align:0em;"></span><span class="mrel">=</span></span><span class="base"><span class="strut" style="height:0.36687em;vertical-align:0em;"></span><span class="mrel">=</span></span><span class="base"><span class="strut" style="height:0.36687em;vertical-align:0em;"></span><span class="mrel">=</span></span><span class="base"><span class="strut" style="height:0.36687em;vertical-align:0em;"></span><span class="mrel">=</span></span><span class="base"><span class="strut" style="height:0.36687em;vertical-align:0em;"></span><span class="mrel">=</span></span><span class="base"><span class="strut" style="height:0.36687em;vertical-align:0em;"></span><span class="mrel">=</span></span><span class="base"><span class="strut" style="height:0.36687em;vertical-align:0em;"></span><span class="mrel">=</span></span><span class="base"><span class="strut" style="height:0.36687em;vertical-align:0em;"></span><span class="mrel">=</span></span><span class="base"><span class="strut" style="height:0.36687em;vertical-align:0em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">∣</span><span class="mord">∣</span></span></span></span>{h}&quot;)<br>
echo -e &quot;<span class='katex-error' title='ParseError: KaTeX parse error: Undefined control sequence: \n at position 6: Tips1\̲n̲'>Tips1\n</span>Tips2\n<span class='katex-error' title='ParseError: KaTeX parse error: Undefined control sequence: \n at position 6: Tips3\̲n̲'>Tips3\n</span>Tips4\n<span class='katex-error' title='ParseError: KaTeX parse error: Undefined control sequence: \n at position 6: Tips5\̲n̲'>Tips5\n</span>Tips6\n<span class='katex-error' title='ParseError: KaTeX parse error: Undefined control sequence: \n at position 6: Tips7\̲n̲'>Tips7\n</span>Tips8\n<span class='katex-error' title='ParseError: KaTeX parse error: Undefined control sequence: \n at position 6: Tips9\̲n̲'>Tips9\n</span>Tips0&quot; | lolcat 2&gt; <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mrow><mi>n</mi><mi>u</mi><mi>l</mi><mi>l</mi></mrow><mi mathvariant="normal">∣</mi><mi mathvariant="normal">∣</mi><mi>e</mi><mi>c</mi><mi>h</mi><mi>o</mi><mo>−</mo><mi>e</mi><mi mathvariant="normal">&quot;</mi></mrow><annotation encoding="application/x-tex">{null} || echo -e &quot;</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathdefault">n</span><span class="mord mathdefault">u</span><span class="mord mathdefault" style="margin-right:0.01968em;">l</span><span class="mord mathdefault" style="margin-right:0.01968em;">l</span></span><span class="mord">∣</span><span class="mord">∣</span><span class="mord mathdefault">e</span><span class="mord mathdefault">c</span><span class="mord mathdefault">h</span><span class="mord mathdefault">o</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord mathdefault">e</span><span class="mord">&quot;</span></span></span></span>Tips1\n<span class='katex-error' title='ParseError: KaTeX parse error: Undefined control sequence: \n at position 6: Tips2\̲n̲'>Tips2\n</span>Tips3\n<span class='katex-error' title='ParseError: KaTeX parse error: Undefined control sequence: \n at position 6: Tips4\̲n̲'>Tips4\n</span>Tips5\n<span class='katex-error' title='ParseError: KaTeX parse error: Undefined control sequence: \n at position 6: Tips6\̲n̲'>Tips6\n</span>Tips7\n<span class='katex-error' title='ParseError: KaTeX parse error: Undefined control sequence: \n at position 6: Tips8\̲n̲'>Tips8\n</span>Tips9\n<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>T</mi><mi>i</mi><mi>p</mi><mi>s</mi><mn>0</mn><mi mathvariant="normal">&quot;</mi><mi>e</mi><mi>c</mi><mi>h</mi><mi>o</mi><mo separator="true">;</mo><mi>e</mi><mi>c</mi><mi>h</mi><mi>o</mi><mo>−</mo><mi>e</mi><mi mathvariant="normal">&quot;</mi></mrow><annotation encoding="application/x-tex">Tips0&quot;
echo;
echo -e &quot;</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span class="mord mathdefault" style="margin-right:0.13889em;">T</span><span class="mord mathdefault">i</span><span class="mord mathdefault">p</span><span class="mord mathdefault">s</span><span class="mord">0</span><span class="mord">&quot;</span><span class="mord mathdefault">e</span><span class="mord mathdefault">c</span><span class="mord mathdefault">h</span><span class="mord mathdefault">o</span><span class="mpunct">;</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault">e</span><span class="mord mathdefault">c</span><span class="mord mathdefault">h</span><span class="mord mathdefault">o</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord mathdefault">e</span><span class="mord">&quot;</span></span></span></span>{PSB} <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>g</mi><mi>C</mi><mi>o</mi><mi>n</mi><mi>f</mi><mi>i</mi><mi>g</mi><mi>u</mi><mi>r</mi><mi>e</mi><mi>M</mi><mi>i</mi><mi>r</mi><mi>r</mi><mi>o</mi><mi>r</mi><mi>l</mi><mi>i</mi><mi>s</mi><mi>t</mi><mo>[</mo><mn>1</mn><mo>]</mo></mrow><annotation encoding="application/x-tex">{g}Configure Mirrorlist   [1]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.03588em;">g</span></span><span class="mord mathdefault" style="margin-right:0.07153em;">C</span><span class="mord mathdefault">o</span><span class="mord mathdefault">n</span><span class="mord mathdefault" style="margin-right:0.10764em;">f</span><span class="mord mathdefault">i</span><span class="mord mathdefault" style="margin-right:0.03588em;">g</span><span class="mord mathdefault">u</span><span class="mord mathdefault" style="margin-right:0.02778em;">r</span><span class="mord mathdefault">e</span><span class="mord mathdefault" style="margin-right:0.10903em;">M</span><span class="mord mathdefault">i</span><span class="mord mathdefault" style="margin-right:0.02778em;">r</span><span class="mord mathdefault" style="margin-right:0.02778em;">r</span><span class="mord mathdefault">o</span><span class="mord mathdefault" style="margin-right:0.02778em;">r</span><span class="mord mathdefault" style="margin-right:0.01968em;">l</span><span class="mord mathdefault">i</span><span class="mord mathdefault">s</span><span class="mord mathdefault">t</span><span class="mopen">[</span><span class="mord">1</span><span class="mclose">]</span></span></span></span>{h}&quot;<br>
echo -e &quot;${PSB} <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>g</mi><mi>C</mi><mi>o</mi><mi>n</mi><mi>f</mi><mi>i</mi><mi>g</mi><mi>u</mi><mi>r</mi><mi>e</mi><mi>N</mi><mi>e</mi><mi>t</mi><mi>w</mi><mi>o</mi><mi>r</mi><mi>k</mi><mo>[</mo><mn>2</mn><mo>]</mo></mrow><annotation encoding="application/x-tex">{g}Configure Network      [2]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.03588em;">g</span></span><span class="mord mathdefault" style="margin-right:0.07153em;">C</span><span class="mord mathdefault">o</span><span class="mord mathdefault">n</span><span class="mord mathdefault" style="margin-right:0.10764em;">f</span><span class="mord mathdefault">i</span><span class="mord mathdefault" style="margin-right:0.03588em;">g</span><span class="mord mathdefault">u</span><span class="mord mathdefault" style="margin-right:0.02778em;">r</span><span class="mord mathdefault">e</span><span class="mord mathdefault" style="margin-right:0.10903em;">N</span><span class="mord mathdefault">e</span><span class="mord mathdefault">t</span><span class="mord mathdefault" style="margin-right:0.02691em;">w</span><span class="mord mathdefault">o</span><span class="mord mathdefault" style="margin-right:0.02778em;">r</span><span class="mord mathdefault" style="margin-right:0.03148em;">k</span><span class="mopen">[</span><span class="mord">2</span><span class="mclose">]</span></span></span></span>{h}&quot;<br>
echo -e &quot;${PSG} <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>g</mi><mi>C</mi><mi>o</mi><mi>n</mi><mi>f</mi><mi>i</mi><mi>g</mi><mi>u</mi><mi>r</mi><mi>e</mi><mi>S</mi><mi>S</mi><mi>H</mi><mo>[</mo><mn>3</mn><mo>]</mo></mrow><annotation encoding="application/x-tex">{g}Configure SSH          [3]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.03588em;">g</span></span><span class="mord mathdefault" style="margin-right:0.07153em;">C</span><span class="mord mathdefault">o</span><span class="mord mathdefault">n</span><span class="mord mathdefault" style="margin-right:0.10764em;">f</span><span class="mord mathdefault">i</span><span class="mord mathdefault" style="margin-right:0.03588em;">g</span><span class="mord mathdefault">u</span><span class="mord mathdefault" style="margin-right:0.02778em;">r</span><span class="mord mathdefault">e</span><span class="mord mathdefault" style="margin-right:0.05764em;">S</span><span class="mord mathdefault" style="margin-right:0.05764em;">S</span><span class="mord mathdefault" style="margin-right:0.08125em;">H</span><span class="mopen">[</span><span class="mord">3</span><span class="mclose">]</span></span></span></span>{h}&quot;<br>
echo -e &quot;${PSY} <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>g</mi><mi>I</mi><mi>n</mi><mi>s</mi><mi>t</mi><mi>a</mi><mi>l</mi><mi>l</mi><mi>S</mi><mi>y</mi><mi>s</mi><mi>t</mi><mi>e</mi><mi>m</mi><mo>[</mo><mn>4</mn><mo>]</mo></mrow><annotation encoding="application/x-tex">{g}Install System         [4]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.03588em;">g</span></span><span class="mord mathdefault" style="margin-right:0.07847em;">I</span><span class="mord mathdefault">n</span><span class="mord mathdefault">s</span><span class="mord mathdefault">t</span><span class="mord mathdefault">a</span><span class="mord mathdefault" style="margin-right:0.01968em;">l</span><span class="mord mathdefault" style="margin-right:0.01968em;">l</span><span class="mord mathdefault" style="margin-right:0.05764em;">S</span><span class="mord mathdefault" style="margin-right:0.03588em;">y</span><span class="mord mathdefault">s</span><span class="mord mathdefault">t</span><span class="mord mathdefault">e</span><span class="mord mathdefault">m</span><span class="mopen">[</span><span class="mord">4</span><span class="mclose">]</span></span></span></span>{h}&quot;<br>
echo -e &quot;${PSG} <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>g</mi><mi>E</mi><mi>x</mi><mi>i</mi><mi>t</mi><mi>S</mi><mi>c</mi><mi>r</mi><mi>i</mi><mi>p</mi><mi>t</mi><mo>[</mo><mi>Q</mi><mo>]</mo></mrow><annotation encoding="application/x-tex">{g}Exit Script            [Q]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.03588em;">g</span></span><span class="mord mathdefault" style="margin-right:0.05764em;">E</span><span class="mord mathdefault">x</span><span class="mord mathdefault">i</span><span class="mord mathdefault">t</span><span class="mord mathdefault" style="margin-right:0.05764em;">S</span><span class="mord mathdefault">c</span><span class="mord mathdefault" style="margin-right:0.02778em;">r</span><span class="mord mathdefault">i</span><span class="mord mathdefault">p</span><span class="mord mathdefault">t</span><span class="mopen">[</span><span class="mord mathdefault">Q</span><span class="mclose">]</span></span></span></span>{h}&quot;<br>
echo;<br>
READS_A=<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo>(</mo><mi>e</mi><mi>c</mi><mi>h</mi><mi>o</mi><mo>−</mo><mi>e</mi><mi mathvariant="normal">&quot;</mi></mrow><annotation encoding="application/x-tex">(echo -e &quot;</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord mathdefault">e</span><span class="mord mathdefault">c</span><span class="mord mathdefault">h</span><span class="mord mathdefault">o</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord mathdefault">e</span><span class="mord">&quot;</span></span></span></span>{PSG} <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>y</mi><mi>W</mi><mi>h</mi><mi>a</mi><mi>t</mi><mi>a</mi><mi>r</mi><mi>e</mi><mi>t</mi><mi>h</mi><mi>e</mi><mi>t</mi><mi>a</mi><mi>s</mi><mi>k</mi><mi>s</mi><mo>[</mo><mn>1</mn><mo separator="true">,</mo><mn>2</mn><mo separator="true">,</mo><mn>3..</mn><mo>]</mo></mrow><annotation encoding="application/x-tex">{y}What are the tasks[1,2,3..]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.03588em;">y</span></span><span class="mord mathdefault" style="margin-right:0.13889em;">W</span><span class="mord mathdefault">h</span><span class="mord mathdefault">a</span><span class="mord mathdefault">t</span><span class="mord mathdefault">a</span><span class="mord mathdefault" style="margin-right:0.02778em;">r</span><span class="mord mathdefault">e</span><span class="mord mathdefault">t</span><span class="mord mathdefault">h</span><span class="mord mathdefault">e</span><span class="mord mathdefault">t</span><span class="mord mathdefault">a</span><span class="mord mathdefault">s</span><span class="mord mathdefault" style="margin-right:0.03148em;">k</span><span class="mord mathdefault">s</span><span class="mopen">[</span><span class="mord">1</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">2</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">3</span><span class="mord">.</span><span class="mord">.</span><span class="mclose">]</span></span></span></span>{h} <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mrow><mi>J</mi><mi>H</mi><mi>B</mi></mrow><mi mathvariant="normal">&quot;</mi><mo>)</mo><mi>r</mi><mi>e</mi><mi>a</mi><mi>d</mi><mo>−</mo><mi>p</mi><mi mathvariant="normal">&quot;</mi></mrow><annotation encoding="application/x-tex">{JHB}&quot;)
read -p &quot;</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.09618em;">J</span><span class="mord mathdefault" style="margin-right:0.08125em;">H</span><span class="mord mathdefault" style="margin-right:0.05017em;">B</span></span><span class="mord">&quot;</span><span class="mclose">)</span><span class="mord mathdefault" style="margin-right:0.02778em;">r</span><span class="mord mathdefault">e</span><span class="mord mathdefault">a</span><span class="mord mathdefault">d</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span class="mord mathdefault">p</span><span class="mord">&quot;</span></span></span></span>{READS_A}&quot; principal_variable</p>
<h1 id="-2"></h1>
<p>#========ArchLinux Mirrorlist 配置镜像源  1</p>
<p>PACMANCONF_FILE=&quot;/etc/pacman.conf&quot;<br>
MIRRORLIST_FILE=&quot;/etc/pacman.d/mirrorlist&quot;<br>
if [[ ${principal_variable} = 1 ]]; then<br>
echo ;<br>
# 检查&quot;/etc/pacman.d/mirrorlist&quot;文件是否存在<br>
if [ -e ${MIRRORLIST_FILE} ] ; then<br>
# 本地<br>
sh ${MIRROR_SH} || bash $PWD/mirrorlist.sh<br>
# 远程<br>
#sh <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mrow><mi>M</mi><mi>I</mi><mi>R</mi><mi>R</mi><mi>O</mi><msub><mi>R</mi><mi>S</mi></msub><mi>H</mi></mrow><mi mathvariant="normal">∣</mi><mi mathvariant="normal">∣</mi><mi>s</mi><mi>h</mi><mo>−</mo><mi>c</mi><mi mathvariant="normal">&quot;</mi></mrow><annotation encoding="application/x-tex">{MIRROR_SH} || sh -c &quot;</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.10903em;">M</span><span class="mord mathdefault" style="margin-right:0.07847em;">I</span><span class="mord mathdefault" style="margin-right:0.00773em;">R</span><span class="mord mathdefault" style="margin-right:0.00773em;">R</span><span class="mord mathdefault" style="margin-right:0.02778em;">O</span><span class="mord"><span class="mord mathdefault" style="margin-right:0.00773em;">R</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.32833099999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.00773em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.05764em;">S</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord mathdefault" style="margin-right:0.08125em;">H</span></span><span class="mord">∣</span><span class="mord">∣</span><span class="mord mathdefault">s</span><span class="mord mathdefault">h</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord mathdefault">c</span><span class="mord">&quot;</span></span></span></span>(curl -fsSL https://gitee.com/auroot/Arch_install/raw/master/mirrorlist.sh)&quot;<br>
else<br>
# 本地<br>
touch ${MIRRORLIST_FILE} &amp;&amp; sh ${MIRROR_SH} || bash $PWD/mirrorlist.sh<br>
# 远程<br>
#touch ${MIRRORLIST_FILE} &amp;&amp; sh <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mrow><mi>M</mi><mi>I</mi><mi>R</mi><mi>R</mi><mi>O</mi><msub><mi>R</mi><mi>S</mi></msub><mi>H</mi></mrow><mi mathvariant="normal">∣</mi><mi mathvariant="normal">∣</mi><mi>s</mi><mi>h</mi><mo>−</mo><mi>c</mi><mi mathvariant="normal">&quot;</mi></mrow><annotation encoding="application/x-tex">{MIRROR_SH} || sh -c &quot;</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.10903em;">M</span><span class="mord mathdefault" style="margin-right:0.07847em;">I</span><span class="mord mathdefault" style="margin-right:0.00773em;">R</span><span class="mord mathdefault" style="margin-right:0.00773em;">R</span><span class="mord mathdefault" style="margin-right:0.02778em;">O</span><span class="mord"><span class="mord mathdefault" style="margin-right:0.00773em;">R</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.32833099999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.00773em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.05764em;">S</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord mathdefault" style="margin-right:0.08125em;">H</span></span><span class="mord">∣</span><span class="mord">∣</span><span class="mord mathdefault">s</span><span class="mord mathdefault">h</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord mathdefault">c</span><span class="mord">&quot;</span></span></span></span>(curl -fsSL https://gitee.com/auroot/Arch_install/raw/master/mirrorlist.sh)&quot;<br>
fi<br>
clear &amp;&amp; echo;<br>
bash $PWD/update.sh<br>
bash ${0}<br>
fi</p>
<p>#========检查网络  2<br>
if [[ ${principal_variable} = 2 ]]; then<br>
echo;<br>
echo &quot;:: Checking the currently available network.&quot; | tee -a /tmp/Arch_install.log<br>
sleep 2<br>
echo -e &quot;:: Ethernet: <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>r</mi></mrow><annotation encoding="application/x-tex">{r}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.02778em;">r</span></span></span></span></span>{ETHERNET}${h}&quot; 2&gt; $null<br>
echo -e &quot;:: Wifi:   <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>r</mi></mrow><annotation encoding="application/x-tex">{r}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.02778em;">r</span></span></span></span></span>{WIFI}${h}&quot; 2&gt; $null</p>
<pre><code>READS_B=$(echo -e &quot;${PSG} ${y}Query Network: Ethernet[1] Wifi[2] Exit[3]? ${h}${JHB}&quot;)
read -p &quot;${READS_B}&quot; wlink 
    case $wlink in
        1) 
            echo &quot;:: One moment please............&quot;
            ls /usr/bin/ifconfig &amp;&gt; $null &amp;&amp; echo &quot;:: Install net-tools&quot; ||  echo &quot;y&quot; |  pacman -S ifconfig
            ip link set ${ETHERNET} up
            ifconfig ${ETHERNET} up | tee -a /tmp/Arch_install.log
            systemctl restart dhcpcd | tee -a /tmp/Arch_install.log 
              ping -c 3 14.215.177.38 | tee -a /tmp/Arch_install.log
            sleep 1
            bash ${0}    
        ;;
        2) 
            echo;
            wifi-menu &amp;&amp;  ping  -c 3 14.215.177.38 | tee -a /tmp/Arch_install.log
            sleep 1 
            bash ${0}
            #echo &quot;:: The following WiFi is available: &quot;
            #iwlist ${WIFI} scan | grep &quot;ESSID:&quot;
        ;;
        3) 
            bash ${0}
        ;;
    esac
</code></pre>
<p>fi</p>
<h1 id="-3"></h1>
<p>##========开启SSH 3<br>
if [[ <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mrow><mi>p</mi><mi>r</mi><mi>i</mi><mi>n</mi><mi>c</mi><mi>i</mi><mi>p</mi><mi>a</mi><msub><mi>l</mi><mi>v</mi></msub><mi>a</mi><mi>r</mi><mi>i</mi><mi>a</mi><mi>b</mi><mi>l</mi><mi>e</mi></mrow><mo>=</mo><mn>3</mn><mo>]</mo><mo>]</mo><mo separator="true">;</mo><mi>t</mi><mi>h</mi><mi>e</mi><mi>n</mi><mi>c</mi><mi>l</mi><mi>e</mi><mi>a</mi><mi>r</mi><mi>e</mi><mi>c</mi><mi>h</mi><mi>o</mi><mi>e</mi><mi>c</mi><mi>h</mi><mi>o</mi><mo>−</mo><mi>e</mi><mi mathvariant="normal">&quot;</mi></mrow><annotation encoding="application/x-tex">{principal_variable} = 3 ]]; then
    clear
    echo
    echo -e &quot;</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span class="mord"><span class="mord mathdefault">p</span><span class="mord mathdefault" style="margin-right:0.02778em;">r</span><span class="mord mathdefault">i</span><span class="mord mathdefault">n</span><span class="mord mathdefault">c</span><span class="mord mathdefault">i</span><span class="mord mathdefault">p</span><span class="mord mathdefault">a</span><span class="mord"><span class="mord mathdefault" style="margin-right:0.01968em;">l</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:-0.01968em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.03588em;">v</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord mathdefault">a</span><span class="mord mathdefault" style="margin-right:0.02778em;">r</span><span class="mord mathdefault">i</span><span class="mord mathdefault">a</span><span class="mord mathdefault">b</span><span class="mord mathdefault" style="margin-right:0.01968em;">l</span><span class="mord mathdefault">e</span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">3</span><span class="mclose">]</span><span class="mclose">]</span><span class="mpunct">;</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault">t</span><span class="mord mathdefault">h</span><span class="mord mathdefault">e</span><span class="mord mathdefault">n</span><span class="mord mathdefault">c</span><span class="mord mathdefault" style="margin-right:0.01968em;">l</span><span class="mord mathdefault">e</span><span class="mord mathdefault">a</span><span class="mord mathdefault" style="margin-right:0.02778em;">r</span><span class="mord mathdefault">e</span><span class="mord mathdefault">c</span><span class="mord mathdefault">h</span><span class="mord mathdefault">o</span><span class="mord mathdefault">e</span><span class="mord mathdefault">c</span><span class="mord mathdefault">h</span><span class="mord mathdefault">o</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord mathdefault">e</span><span class="mord">&quot;</span></span></span></span>{y}:: Setting SSH Username / password.${h}&quot; | tee -a /tmp/Arch_install.log<br>
echo <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mrow><mi>U</mi><mi>S</mi><mi>E</mi><mi>R</mi></mrow><mo>:</mo></mrow><annotation encoding="application/x-tex">{USER}:</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.10903em;">U</span><span class="mord mathdefault" style="margin-right:0.05764em;">S</span><span class="mord mathdefault" style="margin-right:0.05764em;">E</span><span class="mord mathdefault" style="margin-right:0.00773em;">R</span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">:</span></span></span></span>{PASS} | chpasswd &amp;&gt; $null</p>
<pre><code>echo -e &quot;${g} ||=================================||${h}&quot;
echo -e &quot;${g} || $ ssh $USER@${ETHERNET_IP:-IP_Addess..}          ||${h}&quot;
echo -e &quot;${g} || $ ssh $USER@${WIFI_IP:-IP_Addess..}          ||${h}&quot;
echo -e &quot;${g} || Username --=&gt;  $USER             ||${h}&quot;
echo -e &quot;${g} || Password --=&gt;  $PASS           ||${h}&quot;
echo -e &quot;${g} ||=================================||${h}&quot;

    systemctl start sshd.service
    netstat -antp | grep sshd
</code></pre>
<p>fi<br>
##======== 安装ArchLinux    选项4 ==========================================</p>
<h1 id="函数设置root密码-用户-判断etcpasswd文件中最后一个用户是否大于等于1000的普通用户如果没有请先创建用户">函数：设置root密码 用户  判断/etc/passwd文件中最后一个用户是否大于等于1000的普通用户，如果没有请先创建用户</h1>
<pre><code>ConfigurePassworld(){
    PasswdFile=&quot;/etc/passwd&quot;
    if [ -e /Archin/UserName ]; then   #  设定一个文件匹配，这个文件在不在都无所谓
        for ((Number=1;Number&lt;=50;Number++))  # 设置变量Number 等于1 ；小于等于50 ； Number 1+1直到50
        do
        Query=$(tail -n ${Number} ${PasswdFile} | head -n 1 | cut -d&quot;:&quot; -f3)
            for Contrast in {1000..1100}
            do
                if [[ $Query == $Contrast ]]; then
                    CheckingUsers=$(cat ${PasswdFile} | grep &quot;$Query&quot; | cut -d&quot;:&quot; -f1)
                    CheckingID=$(cat ${PasswdFile} | grep &quot;$Query&quot; | cut -d&quot;:&quot; -f3)
                fi
            done 
        done
        echo &quot;$CheckingUsers&quot; &gt; /Archin/UserName  
        CheckingUsers=$(cat /Archin/UserName)
        echo -e &quot;${PSG} ${g}A normal user already exists, The UserName:${h} ${b}${CheckingUsers}${h} ${g}ID: ${b}${CheckingID}${h}.&quot; 
        sleep 2;
    else
        sh -c &quot;$(curl -fsSL https://gitee.com/auroot/Arch_install/raw/master/useradd.sh)&quot;
        CheckingUsers=$(cat /Archin/UserName)
        echo -e &quot;${PSG} ${g}A normal user already exists, The UserName:${h} ${b}${CheckingUsers}${h}.&quot; 
        sleep 2;
    fi
</code></pre>
<p>}</p>
<p>if [[ ${principal_variable} == 4 ]];then</p>
<h1 id="-4"></h1>
<pre><code>echo
echo -e &quot;     ${w}***${h} ${r}Install System Modular${h} ${w}***${h}  &quot; | tee -a /tmp/Arch_install.log
echo &quot;---------------------------------------------&quot;
echo -e &quot;${PSY} ${g}   Disk partition.         ${h}${r}**${h}  ${w}[1]${h}&quot;
echo -e &quot;${PSY} ${g}   Install System Files.   ${h}${r}**${h}  ${w}[2]${h}&quot;
echo -e &quot;${PSG} ${g}   Installation Drive.     ${h}${b}*${h}   ${w}[21]${h}&quot;    
echo -e &quot;${PSG} ${g}   Installation Desktop.   ${h}${b}*${h}   ${w}[22]${h}&quot;  
echo -e &quot;${PSY} ${g}   Configurt System.       ${h}${r}**${h}  ${w}[23]${h}&quot;
echo -e &quot;${PSY} ${g}   arch-chroot /mnt.       ${h}${r}**${h}  ${w}[0]${h}&quot;
echo &quot;---------------------------------------------&quot;
echo;
READS_C=$(echo -e &quot;${PSG} ${y} What are the tasks[1,2,3..] Exit [Q] ${h}${JHB}&quot;)
read -p &quot;${READS_C}&quot; tasks
</code></pre>
<h1 id="-5"></h1>
<pre><code>if [[ ${tasks} == 0 ]];then
cat $0 &gt; /mnt/Arch_install.sh  &amp;&amp; chmod +x /mnt/Arch_install.sh
arch-chroot /mnt /bin/bash /Arch_install.sh 
fi
</code></pre>
<h1 id="list1磁盘分区11111111111">list1<mark><mark><mark><mark><mark>磁盘分区</mark></mark></mark></mark></mark>11111111111</h1>
<pre><code>if [[ ${tasks} == 1 ]];then
    clear;
    echo;   
    lsblk | grep -E &quot;sda|sdb|sdc|sdd|sdg|nvme&quot; | tee -a /tmp/Arch_install.log # 显示磁盘
    echo;
    #---AAAA 20----------------磁盘分区-------------------A---#
    # 选择磁盘 #parted /dev/sdb mklabel gpt   转换格式 GPT
    READDISK_A=$(echo -e &quot;${PSY} ${y}Select disk: ${g}/dev/sdX | sdX ${h}${JHB}&quot;)
    read -p &quot;${READDISK_A}&quot;  DISKS_ID  #给用户输入接口
        DISK_NAMEL_A=$(echo &quot;${DISKS_ID}&quot; |  cut -d&quot;/&quot; -f3)   #设置输入”/dev/sda” 或 “sda” 都输出为 sda
        if echo $DISK_NAMEL_A |  grep -E &quot;^[a-z]&quot; &amp;&gt; ${null} ; then
            cfdisk /dev/${DISK_NAMEL_A}  &amp;&amp; echo &quot;/dev/${DISK_NAMEL_A}&quot; &gt; /tmp/diskName_root
        else
            clear;
            echo;
            echo;
            echo -e &quot;${PSR} ${r} Error code [20] Please input: /dev/sdX | sdX? !!! ${h}&quot; | tee -a /tmp/Arch_install.log
            exit 20    # 分区时输入错误，退出码。
        fi
        clear;
        #-------------------分区步骤结束，进入下一个阶段 格式和与挂载分区----------------B------#
        #---BBBB 21----------------root [/]----------------B------#
        echo;
        lsblk | grep -E &quot;sda|sdb|sdc|sdd|sdg|nvme&quot; | tee -a /tmp/Arch_install.log
        echo;
        READDISK_B=$(echo -e &quot;${PSY} ${y}Choose your root[/] partition: ${g}/dev/sdX[0-9] | sdX[0-9] ${h}${JHB}&quot;)
        read -p &quot;${READDISK_B}&quot;  DISK_LIST_ROOT   #给用户输入接口
            DISK_NAMEL_B=$(echo &quot;${DISK_LIST_ROOT}&quot; |  cut -d&quot;/&quot; -f3)   #设置输入”/dev/sda” 或 “sda” 都输出为 sda
            if echo ${DISK_NAMEL_B} | grep -E &quot;^[a-z]*[0-9]$&quot; &amp;&gt; ${null} ; then
                mkfs.ext4 /dev/${DISK_NAMEL_B} | tee -a /tmp/Arch_install.log
                mount /dev/${DISK_NAMEL_B} /mnt 
                ls /sys/firmware/efi/efivars &amp;&gt; ${null} &amp;&amp; mkdir -p /mnt/boot/efi || mkdir -p /mnt/boot
                mkdir /mnt/Archin 
                cat /tmp/diskName_root &gt; /mnt/diskName_root
            else
                clear;
                echo;
                echo -e &quot;${PSR} ${r} Error code [21] Please input: /dev/sdX[0-9] | sdX[0-9] !!! ${h}&quot; | tee -a /tmp/Arch_install.log
                exit 21    # 分区时输入错误，退出码。
            fi
        #---CCCC 22----------------EFI / boot----------------C------#
        echo;
        lsblk | grep -E &quot;sda|sdb|sdc|sdd|sdg|nvme&quot; | tee -a /tmp/Arch_install.log
        echo;
        READDISK_C=$(echo -e &quot;${PSY} ${y}Choose your EFI / BOOT partition: ${g}/dev/sdX[0-9] | sdX[0-9] ${h}${JHB}&quot;)
        read -p &quot;${READDISK_C}&quot;  DISK_LIST_GRUB   #给用户输入接口
            DISK_NAMEL_C=$(echo &quot;${DISK_LIST_GRUB}&quot; |  cut -d&quot;/&quot; -f3)   #设置输入”/dev/sda” 或 “sda” 都输出为 sda
            if echo ${DISK_NAMEL_C} | grep -E &quot;^[a-z]*[0-9]$&quot; &amp;&gt; ${null} ; then
                mkfs.vfat /dev/${DISK_NAMEL_C} | tee -a /tmp/Arch_install.log
                ls /sys/firmware/efi/efivars &amp;&gt; ${null} &amp;&amp; mount /dev/${DISK_NAMEL_C} /mnt/boot/efi || mount /dev/${DISK_NAMEL_C} /mnt/boot
            else
                clear;
                echo;
                echo -e &quot;${r} ==&gt;&gt; Error code [22] Please input: /dev/sdX[0-9] | sdX[0-9] !!! ${h}&quot; | tee -a /tmp/Arch_install.log
                exit 22    # 分区时输入错误，退出码。
            fi
        #---DDDD 23-----------SWAP file 虚拟文件(类似与win里的虚拟文件) 对于swap分区我更推荐这个，后期灵活更变---------------#
        echo
        lsblk | grep -E &quot;sda|sdb|sdc|sdd|sdg|nvme&quot; | tee -a /tmp/Arch_install.log
        echo;
        READDISK_D=$(echo -e &quot;${PSY} ${y}lease select the size of swapfile: ${g}[example:512M-4G ~] ${y}Skip: ${g}[No]${h} ${JHB}&quot;)
        read -p &quot;${READDISK_D}&quot;  DISK_LIST_SWAP     #给用户输入接口
            DISK_NAMEL_D=$(echo &quot;${DISK_LIST_SWAP}&quot; |  cut -d&quot;/&quot; -f3)   #设置输入”/dev/sda” 或 “sda” 都输出为 sda
            if [[ `echo ${DISK_NAMEL_D}` == &quot;no&quot; ]] ; then    # 如果用户输入no，则跳过swapfile设置
                echo -e &quot;${wg} ::==&gt;&gt; Partition complete. ${h}&quot; | tee -a /tmp/Arch_install.log
                sleep 1
                bash ${0}
            fi
            if echo ${DISK_NAMEL_D} | grep -E &quot;^[0-9]*[A-Z]$&quot; &amp;&gt; ${null} ; then
                echo -e &quot;${PSG} ${g}Assigned Swap file Size: ${DISK_NAMEL_D} .${h}&quot;
                fallocate -l ${DISK_NAMEL_D} /mnt/swapfile | tee -a /tmp/Arch_install.log
                chmod 600 /mnt/swapfile 
                mkswap /mnt/swapfile | tee -a /tmp/Arch_install.log
                swapon /mnt/swapfile | tee -a /tmp/Arch_install.log
            else
                clear;
                echo;
                echo -e &quot;${PSR} ${r}Error code [23] Please input size: [example:512M-4G ~] !!! ${h}&quot; | tee -a /tmp/Arch_install.log
                exit 23    # 分区时输入错误，退出码。
            fi
    sleep 1
    echo -e &quot;${wg} ::==&gt;&gt; Partition complete. ${h}&quot; 
    bash ${0} 
fi 
</code></pre>
<h1 id="-6"></h1>
<h1 id="list2-安装及配置系统文件-222222222222222">list2========== 安装及配置系统文件 ==========222222222222222</h1>
<pre><code>if [[ ${tasks} == 2 ]];then
        echo -e &quot;${wg}Update the system clock.${h}&quot; | tee -a /tmp/Arch_install.log #更新系统时间
        timedatectl set-ntp true
        sleep 2
        echo;
        echo -e &quot;${PSG} ${g}Install the base packages.${h}&quot; | tee -a /tmp/Arch_install.log  #安装基本系统
        echo;
            pacstrap /mnt base base-devel linux  # 第一部分
            pacstrap /mnt linux-firmware linux-headers ntfs-3g networkmanager net-tools dhcpcd vim   # 第二部分 分开安装，避免可不必要的错误！
        echo;
        sleep 2
        echo -e &quot;${PSG}  ${g}Configure Fstab File.${h}&quot; | tee -a /tmp/Arch_install.log #配置Fstab文件
        genfstab -U /mnt &gt;&gt; /mnt/etc/fstab  &amp;&amp; cat /tmp/diskName_root &gt; /mnt/diskName_root
        cp -rf /tmp/Arch_install.log /mnt/tmp/Arch_install.log
        sleep 1
        echo;
        clear;
        echo;
        echo;
        echo -e &quot;${wg}#======================================================#${h}&quot;
        echo -e &quot;${wg}#::  System components installation completed.         #${h}&quot;            
        echo -e &quot;${wg}#::  Entering chroot mode.                             #${h}&quot;
        echo -e &quot;${wg}#::  Execute in 3 seconds.                             #${h}&quot;
        echo -e &quot;${wg}#::  Later operations are oriented to the new system.  #${h}&quot;
        echo -e &quot;${wg}#======================================================#${h}&quot;
        sleep 3
        echo    # Chroot到新系统中完成基础配置，第一步配置
        # rm -rf /mnt/etc/pacman.conf 
        # rm -rf /mnt/etc/pacman.d/mirrorlist 
        cp -rf /tmp/Arch_install.log /mnt/tmp/Arch_install.log
        cp -rf /etc/pacman.conf /mnt/etc/pacman.conf 2&amp;&gt; ${null}
        cp -rf /etc/pacman.d/mirrorlist /mnt/etc/pacman.d/mirrorlist 2&amp;&gt; ${null}
        mkdir /mnt/Archin 

        cat $0 &gt; /mnt/Arch_install.sh  &amp;&amp; chmod +x /mnt/Arch_install.sh
        arch-chroot /mnt /bin/bash /Arch_install.sh 
        # cp -rf /etc/pacman.conf.bak /mnt/etc/pacman.conf 2&amp;&gt; ${null}
        # cp -rf /etc/pacman.d/mirrorlist.bak /mnt/etc/pacman.d/mirrorlist 2&amp;&gt; ${null}
fi
</code></pre>
<h1 id="list21-">list21------------------------------------------------------------------------------------------------------#</h1>
<p>#==========  Installation Drive. 驱动  ===========3333333333333<br>
if [[ <span class='katex-error' title='ParseError: KaTeX parse error: Expected &#039;EOF&#039;, got &#039;#&#039; at position 31: …];then
        #̲---------------…'>{tasks} == 21 ]];then
        #---------------------------------------------------------------------------#
        #  配置驱动
        #-------------------
        sh -c &quot;</span>(curl -fsSL https://gitee.com/auroot/Arch_install/raw/master/mirrorlist.sh)&quot;<br>
#安装声音软件包<br>
echo -e &quot;${PSG} <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>g</mi><mi>I</mi><mi>n</mi><mi>s</mi><mi>t</mi><mi>a</mi><mi>l</mi><mi>l</mi><mi>i</mi><mi>n</mi><mi>g</mi><mi>A</mi><mi>u</mi><mi>d</mi><mi>i</mi><mi>o</mi><mi>d</mi><mi>r</mi><mi>i</mi><mi>v</mi><mi>e</mi><mi>r</mi><mi mathvariant="normal">.</mi></mrow><annotation encoding="application/x-tex">{g}Installing Audio driver.</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.03588em;">g</span></span><span class="mord mathdefault" style="margin-right:0.07847em;">I</span><span class="mord mathdefault">n</span><span class="mord mathdefault">s</span><span class="mord mathdefault">t</span><span class="mord mathdefault">a</span><span class="mord mathdefault" style="margin-right:0.01968em;">l</span><span class="mord mathdefault" style="margin-right:0.01968em;">l</span><span class="mord mathdefault">i</span><span class="mord mathdefault">n</span><span class="mord mathdefault" style="margin-right:0.03588em;">g</span><span class="mord mathdefault">A</span><span class="mord mathdefault">u</span><span class="mord mathdefault">d</span><span class="mord mathdefault">i</span><span class="mord mathdefault">o</span><span class="mord mathdefault">d</span><span class="mord mathdefault" style="margin-right:0.02778em;">r</span><span class="mord mathdefault">i</span><span class="mord mathdefault" style="margin-right:0.03588em;">v</span><span class="mord mathdefault">e</span><span class="mord mathdefault" style="margin-right:0.02778em;">r</span><span class="mord">.</span></span></span></span>{h}&quot; | tee -a /tmp/Arch_install.log<br>
pacman -Sy --needed alsa-utils pulseaudio pulseaudio-bluetooth pulseaudio-alsa<br>
echo &quot;load-module module-bluetooth-policy&quot; &gt;&gt; /etc/pulse/system.pa<br>
echo &quot;load-module module-bluetooth-discover&quot; &gt;&gt; /etc/pulse/system.pa<br>
#触摸板驱动<br>
echo -e &quot;${PSG} <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>g</mi><mi>I</mi><mi>n</mi><mi>s</mi><mi>t</mi><mi>a</mi><mi>l</mi><mi>l</mi><mi>i</mi><mi>n</mi><mi>g</mi><mi>i</mi><mi>n</mi><mi>p</mi><mi>u</mi><mi>t</mi><mi>d</mi><mi>r</mi><mi>i</mi><mi>v</mi><mi>e</mi><mi>r</mi><mi mathvariant="normal">.</mi></mrow><annotation encoding="application/x-tex">{g}Installing input driver.</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.03588em;">g</span></span><span class="mord mathdefault" style="margin-right:0.07847em;">I</span><span class="mord mathdefault">n</span><span class="mord mathdefault">s</span><span class="mord mathdefault">t</span><span class="mord mathdefault">a</span><span class="mord mathdefault" style="margin-right:0.01968em;">l</span><span class="mord mathdefault" style="margin-right:0.01968em;">l</span><span class="mord mathdefault">i</span><span class="mord mathdefault">n</span><span class="mord mathdefault" style="margin-right:0.03588em;">g</span><span class="mord mathdefault">i</span><span class="mord mathdefault">n</span><span class="mord mathdefault">p</span><span class="mord mathdefault">u</span><span class="mord mathdefault">t</span><span class="mord mathdefault">d</span><span class="mord mathdefault" style="margin-right:0.02778em;">r</span><span class="mord mathdefault">i</span><span class="mord mathdefault" style="margin-right:0.03588em;">v</span><span class="mord mathdefault">e</span><span class="mord mathdefault" style="margin-right:0.02778em;">r</span><span class="mord">.</span></span></span></span>{h}&quot; | tee -a /tmp/Arch_install.log<br>
pacman -Sy --needed xf86-input-synaptics xf86-input-libinput create_ap<br>
# 蓝牙驱动<br>
echo -e &quot;${PSG} <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>g</mi><mi>I</mi><mi>n</mi><mi>s</mi><mi>t</mi><mi>a</mi><mi>l</mi><mi>l</mi><mi>i</mi><mi>n</mi><mi>g</mi><mi>B</mi><mi>l</mi><mi>u</mi><mi>e</mi><mi>t</mi><mi>o</mi><mi>o</mi><mi>t</mi><mi>h</mi><mi>d</mi><mi>r</mi><mi>i</mi><mi>v</mi><mi>e</mi><mi>r</mi><mi mathvariant="normal">.</mi></mrow><annotation encoding="application/x-tex">{g}Installing Bluetooth driver.</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.03588em;">g</span></span><span class="mord mathdefault" style="margin-right:0.07847em;">I</span><span class="mord mathdefault">n</span><span class="mord mathdefault">s</span><span class="mord mathdefault">t</span><span class="mord mathdefault">a</span><span class="mord mathdefault" style="margin-right:0.01968em;">l</span><span class="mord mathdefault" style="margin-right:0.01968em;">l</span><span class="mord mathdefault">i</span><span class="mord mathdefault">n</span><span class="mord mathdefault" style="margin-right:0.03588em;">g</span><span class="mord mathdefault" style="margin-right:0.05017em;">B</span><span class="mord mathdefault" style="margin-right:0.01968em;">l</span><span class="mord mathdefault">u</span><span class="mord mathdefault">e</span><span class="mord mathdefault">t</span><span class="mord mathdefault">o</span><span class="mord mathdefault">o</span><span class="mord mathdefault">t</span><span class="mord mathdefault">h</span><span class="mord mathdefault">d</span><span class="mord mathdefault" style="margin-right:0.02778em;">r</span><span class="mord mathdefault">i</span><span class="mord mathdefault" style="margin-right:0.03588em;">v</span><span class="mord mathdefault">e</span><span class="mord mathdefault" style="margin-right:0.02778em;">r</span><span class="mord">.</span></span></span></span>{h}&quot; | tee -a /tmp/Arch_install.log<br>
pacman -Sy --needed bluez bluez-utils blueman bluedevil<br>
echo;<br>
READDRIVE_GPU=<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo>(</mo><mi>e</mi><mi>c</mi><mi>h</mi><mi>o</mi><mo>−</mo><mi>e</mi><mi mathvariant="normal">&quot;</mi></mrow><annotation encoding="application/x-tex">(echo -e &quot;</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord mathdefault">e</span><span class="mord mathdefault">c</span><span class="mord mathdefault">h</span><span class="mord mathdefault">o</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord mathdefault">e</span><span class="mord">&quot;</span></span></span></span>{PSG} <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>y</mi><mi>P</mi><mi>l</mi><mi>e</mi><mi>a</mi><mi>s</mi><mi>e</mi><mi>c</mi><mi>h</mi><mi>o</mi><mi>o</mi><mi>s</mi><mi>e</mi><mo>:</mo><mi>I</mi><mi>n</mi><mi>t</mi><mi>e</mi><mi>l</mi><mo>[</mo><mn>1</mn><mo>]</mo><mi>A</mi><mi>M</mi><mi>D</mi><mo>[</mo><mn>2</mn><mo>]</mo><mi>S</mi><mi>k</mi><mi>i</mi><mi>p</mi><mo>[</mo><mn>3</mn><mo>]</mo></mrow><annotation encoding="application/x-tex">{y}Please choose: Intel[1] AMD[2] Skip[3]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.03588em;">y</span></span><span class="mord mathdefault" style="margin-right:0.13889em;">P</span><span class="mord mathdefault" style="margin-right:0.01968em;">l</span><span class="mord mathdefault">e</span><span class="mord mathdefault">a</span><span class="mord mathdefault">s</span><span class="mord mathdefault">e</span><span class="mord mathdefault">c</span><span class="mord mathdefault">h</span><span class="mord mathdefault">o</span><span class="mord mathdefault">o</span><span class="mord mathdefault">s</span><span class="mord mathdefault">e</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">:</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.07847em;">I</span><span class="mord mathdefault">n</span><span class="mord mathdefault">t</span><span class="mord mathdefault">e</span><span class="mord mathdefault" style="margin-right:0.01968em;">l</span><span class="mopen">[</span><span class="mord">1</span><span class="mclose">]</span><span class="mord mathdefault">A</span><span class="mord mathdefault" style="margin-right:0.10903em;">M</span><span class="mord mathdefault" style="margin-right:0.02778em;">D</span><span class="mopen">[</span><span class="mord">2</span><span class="mclose">]</span><span class="mord mathdefault" style="margin-right:0.05764em;">S</span><span class="mord mathdefault" style="margin-right:0.03148em;">k</span><span class="mord mathdefault">i</span><span class="mord mathdefault">p</span><span class="mopen">[</span><span class="mord">3</span><span class="mclose">]</span></span></span></span>{h} <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mrow><mi>J</mi><mi>H</mi><mi>B</mi></mrow><mi mathvariant="normal">&quot;</mi><mo>)</mo><mi>r</mi><mi>e</mi><mi>a</mi><mi>d</mi><mo>−</mo><mi>p</mi><mi mathvariant="normal">&quot;</mi></mrow><annotation encoding="application/x-tex">{JHB}&quot;)
        read -p &quot;</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.09618em;">J</span><span class="mord mathdefault" style="margin-right:0.08125em;">H</span><span class="mord mathdefault" style="margin-right:0.05017em;">B</span></span><span class="mord">&quot;</span><span class="mclose">)</span><span class="mord mathdefault" style="margin-right:0.02778em;">r</span><span class="mord mathdefault">e</span><span class="mord mathdefault">a</span><span class="mord mathdefault">d</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span class="mord mathdefault">p</span><span class="mord">&quot;</span></span></span></span>{READDRIVE_GPU}&quot;  DRIVER_GPU_ID<br>
case <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>D</mi><mi>R</mi><mi>I</mi><mi>V</mi><mi>E</mi><msub><mi>R</mi><mi>G</mi></msub><mi>P</mi><msub><mi>U</mi><mi>I</mi></msub><mi>D</mi><mi>i</mi><mi>n</mi><mn>1</mn><mo>)</mo><mi>p</mi><mi>a</mi><mi>c</mi><mi>m</mi><mi>a</mi><mi>n</mi><mo>−</mo><mi>S</mi><mi>y</mi><mo>−</mo><mo>−</mo><mi>n</mi><mi>e</mi><mi>e</mi><mi>d</mi><mi>e</mi><mi>d</mi><mi>x</mi><mi>f</mi><mn>86</mn><mo>−</mo><mi>v</mi><mi>i</mi><mi>d</mi><mi>e</mi><mi>o</mi><mo>−</mo><mi>i</mi><mi>n</mi><mi>t</mi><mi>e</mi><mi>l</mi><mi>i</mi><mi>n</mi><mi>t</mi><mi>e</mi><mi>l</mi><mo>−</mo><mi>u</mi><mi>c</mi><mi>o</mi><mi>d</mi><mi>e</mi><mi>x</mi><mi>f</mi><mn>86</mn><mo>−</mo><mi>v</mi><mi>i</mi><mi>d</mi><mi>e</mi><mi>o</mi><mo>−</mo><mi>i</mi><mi>n</mi><mi>t</mi><mi>e</mi><mi>l</mi><mi>x</mi><mi>f</mi><mn>86</mn><mo>−</mo><mi>v</mi><mi>i</mi><mi>d</mi><mi>e</mi><mi>o</mi><mo>−</mo><mi>i</mi><mi>n</mi><mi>t</mi><mi>e</mi><mi>l</mi><mi>m</mi><mi>e</mi><mi>s</mi><mi>a</mi><mo>−</mo><mi>l</mi><mi>i</mi><mi>b</mi><mi>g</mi><mi>l</mi><mi>l</mi><mi>i</mi><mi>b</mi><mi>v</mi><mi>a</mi><mo>−</mo><mi>i</mi><mi>n</mi><mi>t</mi><mi>e</mi><mi>l</mi><mo>−</mo><mi>d</mi><mi>r</mi><mi>i</mi><mi>v</mi><mi>e</mi><mi>r</mi><mi>l</mi><mi>i</mi><mi>b</mi><mi>v</mi><mi>d</mi><mi>p</mi><mi>a</mi><mi>u</mi><mo>−</mo><mi>v</mi><mi>a</mi><mo>−</mo><mi>g</mi><mi>l</mi><mo separator="true">;</mo><mo separator="true">;</mo><mn>2</mn><mo>)</mo><mi>p</mi><mi>a</mi><mi>c</mi><mi>m</mi><mi>a</mi><mi>n</mi><mo>−</mo><mi>S</mi><mi>y</mi><mo>−</mo><mo>−</mo><mi>n</mi><mi>e</mi><mi>e</mi><mi>d</mi><mi>e</mi><mi>d</mi><mi>x</mi><mi>f</mi><mn>86</mn><mo>−</mo><mi>v</mi><mi>i</mi><mi>d</mi><mi>e</mi><mi>o</mi><mo>−</mo><mi>a</mi><mi>t</mi><mi>i</mi><mi>a</mi><mi>m</mi><mi>d</mi><mo>−</mo><mi>u</mi><mi>c</mi><mi>o</mi><mi>d</mi><mi>e</mi><mo separator="true">;</mo><mo separator="true">;</mo><mn>3</mn><mo>)</mo><mi>e</mi><mi>c</mi><mi>h</mi><mi>o</mi><mo separator="true">;</mo><mo separator="true">;</mo><mo separator="true">;</mo><mi>e</mi><mi>s</mi><mi>a</mi><mi>c</mi><mi>l</mi><mi>s</mi><mi>p</mi><mi>c</mi><mi>i</mi><mo>−</mo><mi>k</mi><mi mathvariant="normal">∣</mi><mi>g</mi><mi>r</mi><mi>e</mi><mi>p</mi><mo>−</mo><mi>A</mi><mn>2</mn><mo>−</mo><mi>E</mi><mi mathvariant="normal">&quot;</mi><mo>(</mo><mi>V</mi><mi>G</mi><mi>A</mi><mi mathvariant="normal">∣</mi><mn>3</mn><mi>D</mi><mo>)</mo><mi mathvariant="normal">&quot;</mi><mi mathvariant="normal">∣</mi><mi>t</mi><mi>e</mi><mi>e</mi><mo>−</mo><mi>a</mi><mi mathvariant="normal">/</mi><mi>t</mi><mi>m</mi><mi>p</mi><mi mathvariant="normal">/</mi><mi>A</mi><mi>r</mi><mi>c</mi><msub><mi>h</mi><mi>i</mi></msub><mi>n</mi><mi>s</mi><mi>t</mi><mi>a</mi><mi>l</mi><mi>l</mi><mi mathvariant="normal">.</mi><mi>l</mi><mi>o</mi><mi>g</mi><mi>e</mi><mi>c</mi><mi>h</mi><mi>o</mi><mo separator="true">;</mo><mi>R</mi><mi>E</mi><mi>A</mi><mi>D</mi><mi>D</mi><mi>R</mi><mi>I</mi><mi>V</mi><msub><mi>E</mi><mi>N</mi></msub><mi>V</mi><mi>I</mi><mi>D</mi><mi>I</mi><mi>A</mi><mo>=</mo></mrow><annotation encoding="application/x-tex">DRIVER_GPU_ID in
            1)
                pacman -Sy --needed xf86-video-intel intel-ucode xf86-video-intel xf86-video-intel mesa-libgl libva-intel-driver libvdpau-va-gl
            ;;
            2)
                pacman -Sy --needed xf86-video-ati amd-ucode
            ;;
            3)
                echo;
            ;;
        esac
        lspci -k | grep -A 2 -E &quot;(VGA|3D)&quot; | tee -a /tmp/Arch_install.log
        echo;
        READDRIVE_NVIDIA=</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.02778em;">D</span><span class="mord mathdefault" style="margin-right:0.00773em;">R</span><span class="mord mathdefault" style="margin-right:0.07847em;">I</span><span class="mord mathdefault" style="margin-right:0.22222em;">V</span><span class="mord mathdefault" style="margin-right:0.05764em;">E</span><span class="mord"><span class="mord mathdefault" style="margin-right:0.00773em;">R</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.32833099999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.00773em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">G</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord mathdefault" style="margin-right:0.13889em;">P</span><span class="mord"><span class="mord mathdefault" style="margin-right:0.10903em;">U</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.32833099999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.10903em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.07847em;">I</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord mathdefault" style="margin-right:0.02778em;">D</span><span class="mord mathdefault">i</span><span class="mord mathdefault">n</span><span class="mord">1</span><span class="mclose">)</span><span class="mord mathdefault">p</span><span class="mord mathdefault">a</span><span class="mord mathdefault">c</span><span class="mord mathdefault">m</span><span class="mord mathdefault">a</span><span class="mord mathdefault">n</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.8777699999999999em;vertical-align:-0.19444em;"></span><span class="mord mathdefault" style="margin-right:0.05764em;">S</span><span class="mord mathdefault" style="margin-right:0.03588em;">y</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span class="mord">−</span><span class="mord mathdefault">n</span><span class="mord mathdefault">e</span><span class="mord mathdefault">e</span><span class="mord mathdefault">d</span><span class="mord mathdefault">e</span><span class="mord mathdefault">d</span><span class="mord mathdefault">x</span><span class="mord mathdefault" style="margin-right:0.10764em;">f</span><span class="mord">8</span><span class="mord">6</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.77777em;vertical-align:-0.08333em;"></span><span class="mord mathdefault" style="margin-right:0.03588em;">v</span><span class="mord mathdefault">i</span><span class="mord mathdefault">d</span><span class="mord mathdefault">e</span><span class="mord mathdefault">o</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.77777em;vertical-align:-0.08333em;"></span><span class="mord mathdefault">i</span><span class="mord mathdefault">n</span><span class="mord mathdefault">t</span><span class="mord mathdefault">e</span><span class="mord mathdefault" style="margin-right:0.01968em;">l</span><span class="mord mathdefault">i</span><span class="mord mathdefault">n</span><span class="mord mathdefault">t</span><span class="mord mathdefault">e</span><span class="mord mathdefault" style="margin-right:0.01968em;">l</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span class="mord mathdefault">u</span><span class="mord mathdefault">c</span><span class="mord mathdefault">o</span><span class="mord mathdefault">d</span><span class="mord mathdefault">e</span><span class="mord mathdefault">x</span><span class="mord mathdefault" style="margin-right:0.10764em;">f</span><span class="mord">8</span><span class="mord">6</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.77777em;vertical-align:-0.08333em;"></span><span class="mord mathdefault" style="margin-right:0.03588em;">v</span><span class="mord mathdefault">i</span><span class="mord mathdefault">d</span><span class="mord mathdefault">e</span><span class="mord mathdefault">o</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span class="mord mathdefault">i</span><span class="mord mathdefault">n</span><span class="mord mathdefault">t</span><span class="mord mathdefault">e</span><span class="mord mathdefault" style="margin-right:0.01968em;">l</span><span class="mord mathdefault">x</span><span class="mord mathdefault" style="margin-right:0.10764em;">f</span><span class="mord">8</span><span class="mord">6</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.77777em;vertical-align:-0.08333em;"></span><span class="mord mathdefault" style="margin-right:0.03588em;">v</span><span class="mord mathdefault">i</span><span class="mord mathdefault">d</span><span class="mord mathdefault">e</span><span class="mord mathdefault">o</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.77777em;vertical-align:-0.08333em;"></span><span class="mord mathdefault">i</span><span class="mord mathdefault">n</span><span class="mord mathdefault">t</span><span class="mord mathdefault">e</span><span class="mord mathdefault" style="margin-right:0.01968em;">l</span><span class="mord mathdefault">m</span><span class="mord mathdefault">e</span><span class="mord mathdefault">s</span><span class="mord mathdefault">a</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span class="mord mathdefault" style="margin-right:0.01968em;">l</span><span class="mord mathdefault">i</span><span class="mord mathdefault">b</span><span class="mord mathdefault" style="margin-right:0.03588em;">g</span><span class="mord mathdefault" style="margin-right:0.01968em;">l</span><span class="mord mathdefault" style="margin-right:0.01968em;">l</span><span class="mord mathdefault">i</span><span class="mord mathdefault">b</span><span class="mord mathdefault" style="margin-right:0.03588em;">v</span><span class="mord mathdefault">a</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.77777em;vertical-align:-0.08333em;"></span><span class="mord mathdefault">i</span><span class="mord mathdefault">n</span><span class="mord mathdefault">t</span><span class="mord mathdefault">e</span><span class="mord mathdefault" style="margin-right:0.01968em;">l</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span class="mord mathdefault">d</span><span class="mord mathdefault" style="margin-right:0.02778em;">r</span><span class="mord mathdefault">i</span><span class="mord mathdefault" style="margin-right:0.03588em;">v</span><span class="mord mathdefault">e</span><span class="mord mathdefault" style="margin-right:0.02778em;">r</span><span class="mord mathdefault" style="margin-right:0.01968em;">l</span><span class="mord mathdefault">i</span><span class="mord mathdefault">b</span><span class="mord mathdefault" style="margin-right:0.03588em;">v</span><span class="mord mathdefault">d</span><span class="mord mathdefault">p</span><span class="mord mathdefault">a</span><span class="mord mathdefault">u</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.66666em;vertical-align:-0.08333em;"></span><span class="mord mathdefault" style="margin-right:0.03588em;">v</span><span class="mord mathdefault">a</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.03588em;">g</span><span class="mord mathdefault" style="margin-right:0.01968em;">l</span><span class="mpunct">;</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mpunct">;</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">2</span><span class="mclose">)</span><span class="mord mathdefault">p</span><span class="mord mathdefault">a</span><span class="mord mathdefault">c</span><span class="mord mathdefault">m</span><span class="mord mathdefault">a</span><span class="mord mathdefault">n</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.8777699999999999em;vertical-align:-0.19444em;"></span><span class="mord mathdefault" style="margin-right:0.05764em;">S</span><span class="mord mathdefault" style="margin-right:0.03588em;">y</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span class="mord">−</span><span class="mord mathdefault">n</span><span class="mord mathdefault">e</span><span class="mord mathdefault">e</span><span class="mord mathdefault">d</span><span class="mord mathdefault">e</span><span class="mord mathdefault">d</span><span class="mord mathdefault">x</span><span class="mord mathdefault" style="margin-right:0.10764em;">f</span><span class="mord">8</span><span class="mord">6</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.77777em;vertical-align:-0.08333em;"></span><span class="mord mathdefault" style="margin-right:0.03588em;">v</span><span class="mord mathdefault">i</span><span class="mord mathdefault">d</span><span class="mord mathdefault">e</span><span class="mord mathdefault">o</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.77777em;vertical-align:-0.08333em;"></span><span class="mord mathdefault">a</span><span class="mord mathdefault">t</span><span class="mord mathdefault">i</span><span class="mord mathdefault">a</span><span class="mord mathdefault">m</span><span class="mord mathdefault">d</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault">u</span><span class="mord mathdefault">c</span><span class="mord mathdefault">o</span><span class="mord mathdefault">d</span><span class="mord mathdefault">e</span><span class="mpunct">;</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mpunct">;</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">3</span><span class="mclose">)</span><span class="mord mathdefault">e</span><span class="mord mathdefault">c</span><span class="mord mathdefault">h</span><span class="mord mathdefault">o</span><span class="mpunct">;</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mpunct">;</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mpunct">;</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault">e</span><span class="mord mathdefault">s</span><span class="mord mathdefault">a</span><span class="mord mathdefault">c</span><span class="mord mathdefault" style="margin-right:0.01968em;">l</span><span class="mord mathdefault">s</span><span class="mord mathdefault">p</span><span class="mord mathdefault">c</span><span class="mord mathdefault">i</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.03148em;">k</span><span class="mord">∣</span><span class="mord mathdefault" style="margin-right:0.03588em;">g</span><span class="mord mathdefault" style="margin-right:0.02778em;">r</span><span class="mord mathdefault">e</span><span class="mord mathdefault">p</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.76666em;vertical-align:-0.08333em;"></span><span class="mord mathdefault">A</span><span class="mord">2</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.05764em;">E</span><span class="mord">&quot;</span><span class="mopen">(</span><span class="mord mathdefault" style="margin-right:0.22222em;">V</span><span class="mord mathdefault">G</span><span class="mord mathdefault">A</span><span class="mord">∣</span><span class="mord">3</span><span class="mord mathdefault" style="margin-right:0.02778em;">D</span><span class="mclose">)</span><span class="mord">&quot;</span><span class="mord">∣</span><span class="mord mathdefault">t</span><span class="mord mathdefault">e</span><span class="mord mathdefault">e</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault">a</span><span class="mord">/</span><span class="mord mathdefault">t</span><span class="mord mathdefault">m</span><span class="mord mathdefault">p</span><span class="mord">/</span><span class="mord mathdefault">A</span><span class="mord mathdefault" style="margin-right:0.02778em;">r</span><span class="mord mathdefault">c</span><span class="mord"><span class="mord mathdefault">h</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord mathdefault">n</span><span class="mord mathdefault">s</span><span class="mord mathdefault">t</span><span class="mord mathdefault">a</span><span class="mord mathdefault" style="margin-right:0.01968em;">l</span><span class="mord mathdefault" style="margin-right:0.01968em;">l</span><span class="mord">.</span><span class="mord mathdefault" style="margin-right:0.01968em;">l</span><span class="mord mathdefault">o</span><span class="mord mathdefault" style="margin-right:0.03588em;">g</span><span class="mord mathdefault">e</span><span class="mord mathdefault">c</span><span class="mord mathdefault">h</span><span class="mord mathdefault">o</span><span class="mpunct">;</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault" style="margin-right:0.00773em;">R</span><span class="mord mathdefault" style="margin-right:0.05764em;">E</span><span class="mord mathdefault">A</span><span class="mord mathdefault" style="margin-right:0.02778em;">D</span><span class="mord mathdefault" style="margin-right:0.02778em;">D</span><span class="mord mathdefault" style="margin-right:0.00773em;">R</span><span class="mord mathdefault" style="margin-right:0.07847em;">I</span><span class="mord mathdefault" style="margin-right:0.22222em;">V</span><span class="mord"><span class="mord mathdefault" style="margin-right:0.05764em;">E</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.32833099999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.05764em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.10903em;">N</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord mathdefault" style="margin-right:0.22222em;">V</span><span class="mord mathdefault" style="margin-right:0.07847em;">I</span><span class="mord mathdefault" style="margin-right:0.02778em;">D</span><span class="mord mathdefault" style="margin-right:0.07847em;">I</span><span class="mord mathdefault">A</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span></span></span></span>(echo -e &quot;${PSG} <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>y</mi><mi>P</mi><mi>l</mi><mi>e</mi><mi>a</mi><mi>s</mi><mi>e</mi><mi>c</mi><mi>h</mi><mi>o</mi><mi>o</mi><mi>s</mi><mi>e</mi><mo>:</mo><mi>N</mi><mi>v</mi><mi>i</mi><mi>d</mi><mi>i</mi><mi>a</mi><mo>[</mo><mn>1</mn><mo>]</mo><mi>E</mi><mi>x</mi><mi>i</mi><mi>t</mi><mo>[</mo><mn>2</mn><mo>]</mo></mrow><annotation encoding="application/x-tex">{y}Please choose: Nvidia[1] Exit[2]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.03588em;">y</span></span><span class="mord mathdefault" style="margin-right:0.13889em;">P</span><span class="mord mathdefault" style="margin-right:0.01968em;">l</span><span class="mord mathdefault">e</span><span class="mord mathdefault">a</span><span class="mord mathdefault">s</span><span class="mord mathdefault">e</span><span class="mord mathdefault">c</span><span class="mord mathdefault">h</span><span class="mord mathdefault">o</span><span class="mord mathdefault">o</span><span class="mord mathdefault">s</span><span class="mord mathdefault">e</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">:</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.10903em;">N</span><span class="mord mathdefault" style="margin-right:0.03588em;">v</span><span class="mord mathdefault">i</span><span class="mord mathdefault">d</span><span class="mord mathdefault">i</span><span class="mord mathdefault">a</span><span class="mopen">[</span><span class="mord">1</span><span class="mclose">]</span><span class="mord mathdefault" style="margin-right:0.05764em;">E</span><span class="mord mathdefault">x</span><span class="mord mathdefault">i</span><span class="mord mathdefault">t</span><span class="mopen">[</span><span class="mord">2</span><span class="mclose">]</span></span></span></span>{h} <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mrow><mi>J</mi><mi>H</mi><mi>B</mi></mrow><mi mathvariant="normal">&quot;</mi><mo>)</mo><mi>r</mi><mi>e</mi><mi>a</mi><mi>d</mi><mo>−</mo><mi>p</mi><mi mathvariant="normal">&quot;</mi></mrow><annotation encoding="application/x-tex">{JHB}&quot;) 
        read -p &quot;</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.09618em;">J</span><span class="mord mathdefault" style="margin-right:0.08125em;">H</span><span class="mord mathdefault" style="margin-right:0.05017em;">B</span></span><span class="mord">&quot;</span><span class="mclose">)</span><span class="mord mathdefault" style="margin-right:0.02778em;">r</span><span class="mord mathdefault">e</span><span class="mord mathdefault">a</span><span class="mord mathdefault">d</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span class="mord mathdefault">p</span><span class="mord">&quot;</span></span></span></span>{READDRIVE_NVIDIA}&quot;  DRIVER_NVIDIA_ID<br>
case $DRIVER_NVIDIA_ID in<br>
1)<br>
pacman -Sy --needed nvidia nvidia-utils opencl-nvidia lib32-nvidia-utils lib32-opencl-nvidia mesa lib32-mesa-libgl optimus-manager optimus-manager-qt<br>
systemctl enable optimus-manager.service | tee -a /tmp/Arch_install.log<br>
rm -f /etc/X11/xorg.conf 2&amp;&gt; ${null}<br>
rm -f /etc/X11/xorg.conf.d/90-mhwd.conf 2&amp;&gt; ${null}</p>
<pre><code>                if [ -e &quot;/usr/bin/gdm&quot; ] ; then  # gdm管理器
                    pacman -Sy gdm-prime 
                    sed -i 's/#.*WaylandEnable=false/WaylandEnable=false/'  /etc/gdm/custom.conf
                elif [ -e &quot;/usr/bin/sddm&quot; ] ; then
                    sed -i 's/DisplayCommand/# DisplayCommand/' /etc/sddm.conf
                    sed -i 's/DisplayStopCommand/# DisplayStopCommand/' /etc/sddm.conf
                fi
            ;;
            2)
                bash $0
            ;;
        esac      
fi
</code></pre>
<p>#-----------------------------------------------------------------------------------------------------#</p>
<h1 id="list22-installation-desktop-桌面环境-444444444444444444444444444">list22==========  Installation Desktop. 桌面环境 ==========444444444444444444444444444</h1>
<pre><code>if [[ ${tasks} == 22 ]];then
    ConfigurePassworld    # 引用函数：设置密码
    sh -c &quot;$(curl -fsSL https://gitee.com/auroot/Arch_install/raw/master/mirrorlist.sh)&quot; 
    # 定义 桌面环境配置函数
    Desktop_Env_Config(){
        systemctl enable $(cat /Archin/Desktop_Manager) | tee -a /tmp/Arch_install.log
        sh -c &quot;$(curl -fsSL https://gitee.com/auroot/Arch_install/raw/master/setting_xinitrc.sh)&quot;
        echo &quot;exec ${DESKTOP_XINIT}&quot; &gt;&gt; /etc/X11/xinit/xinitrc 
        CheckingUser=$(cat /Archin/UserName)
        cp -rf /etc/X11/xinit/xinitrc  /home/${CheckingUser}/.xinitrc 
        echo -e &quot;${PSG} ${w}${DESKTOP_ENVS} ${g}Desktop environment configuration completed.${h}&quot; | tee -a /tmp/Arch_install.log
        sleep 2;   # 以下是配置 ohmyzsh
        #sh -c &quot;$(curl -fsSL https://gitee.com/auroot/Arch_install/raw/master/install_zsh.sh)&quot;
    } 
# 函数 桌面管理选择
# 软件包列表 及 读取变量DESKTOP_MANAGER_NAME,安装桌面/显示管理器  
    Desktop_Manager(){
        echo &quot;---------------------------------&quot;
        echo -e &quot;${PSB} ${g}   sddm.     ${h}${w}[1]${h}&quot;  
        echo -e &quot;${PSB} ${g}   gdm.      ${h}${w}[2]${h}&quot; 
        echo -e &quot;${PSB} ${g}   lightdm.  ${h}${w}[3]${h}&quot;   
        echo -e &quot;${PSB} ${g}   lxdm.     ${h}${w}[4]${h}&quot;  
        echo -e &quot;${PSB} ${g}   default.  ${h}${w}[*]${h}&quot; 
        echo &quot;---------------------------------&quot;
        SELECT_DM=$(echo -e &quot;${PSG} ${y} Please select Desktop Manager: ${h} ${JHB}&quot;)
        read -p &quot;${SELECT_DM}&quot; DM_ID
        case ${DM_ID} in
            1)
                DESKTOP_MANAGER_NAME=&quot;sddm&quot;
            ;;
            2)
                DESKTOP_MANAGER_NAME=&quot;gdm&quot;  
            ;;
            3)
                DESKTOP_MANAGER_NAME=&quot;lightdm&quot;
            ;;
            4)
                DESKTOP_MANAGER_NAME=&quot;lxdm&quot;
            ;;
            *)
                if [[ $DESKTOP_ENVS == &quot;plasma&quot; ]] ; then
                    DESKTOP_MANAGER_NAME=&quot;sddm&quot;
                elif [[ $DESKTOP_ENVS == &quot;gnome&quot; ]] ; then
                    DESKTOP_MANAGER_NAME=&quot;gdm&quot;
                elif [[ $DESKTOP_ENVS == &quot;deepin&quot; ]] ; then
                    DESKTOP_MANAGER_NAME=&quot;lightdm&quot;
                elif [[ $DESKTOP_ENVS == &quot;xfce&quot; ]] ; then
                    DESKTOP_MANAGER_NAME=&quot;lightdm&quot;
                elif [[ $DESKTOP_ENVS == &quot;i3wm&quot; ]] ; then
                    DESKTOP_MANAGER_NAME=&quot;sddm&quot;
                elif [[ $DESKTOP_ENVS == &quot;lxde&quot; ]] ; then
                    DESKTOP_MANAGER_NAME=&quot;lxdm&quot;
                elif [[ $DESKTOP_ENVS == &quot;cinnamon&quot; ]] ; then
                    DESKTOP_MANAGER_NAME=&quot;lightdm&quot;
                fi
            ;;
        esac
        echo ${DESKTOP_MANAGER_NAME} &gt; /Archin/Desktop_Manager
            # IN_SDDM_PKG=&quot;sddm sddm-kcm&quot;
            # IN_GDM_PKG=&quot;gdm&quot;
            # IN_LIGHTDM_PKG=&quot;lightdm&quot;
            # IN_LXDM_PKG=&quot;lxdm&quot;
            Desktop_Manager_ID=$(cat /Archin/Desktop_Manager)
            if [[ ${Desktop_Manager_ID} == &quot;sddm&quot; ]] ; then
                pacman -S sddm sddm-kcm  #--安装SDDM
                # Desktop_Env_Config      # 环境配置
            elif [[ ${Desktop_Manager_ID} == &quot;gdm&quot; ]] ; then
                pacman -S gdm    #--安装GDM
                # Desktop_Env_Config      # 环境配置
            elif [[ ${Desktop_Manager_ID} == &quot;lightdm&quot; ]] ; then
                pacman -S lightdm   #--安装lightdm
                # Desktop_Env_Config      # 环境配置
            elif [[ ${Desktop_Manager_ID} == &quot;lxdm&quot; ]] ; then
                pacman -S lxdm  #--安装LXDM
                # Desktop_Env_Config      # 环境配置
            fi
        
    }

# 定义 其他基本包函数
    Programs_Name(){
        sudo pacman -Sy  ttf-dejavu ttf-liberation thunar neofetch  unrar unzip p7zip \
            zsh vim git ttf-wps-fonts google-chrome mtpfs mtpaint libmtp kchmviewer file-roller flameshot 
    }
</code></pre>
<p>#-----------#---------------------------------------------------------------------------#<br>
# 开始安装桌面环境<br>
#-----------------------------<br>
echo<br>
echo -e &quot;     <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>w</mi><mo>∗</mo><mo>∗</mo><mo>∗</mo></mrow><annotation encoding="application/x-tex">{w}***</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.46528em;vertical-align:0em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.02691em;">w</span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">∗</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.46528em;vertical-align:0em;"></span><span class="mord">∗</span><span class="mord">∗</span></span></span></span>{h} <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>b</mi><mi>I</mi><mi>n</mi><mi>s</mi><mi>t</mi><mi>a</mi><mi>l</mi><mi>l</mi><mi>D</mi><mi>e</mi><mi>s</mi><mi>k</mi><mi>t</mi><mi>o</mi><mi>p</mi></mrow><annotation encoding="application/x-tex">{b}Install Desktop</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span class="mord"><span class="mord mathdefault">b</span></span><span class="mord mathdefault" style="margin-right:0.07847em;">I</span><span class="mord mathdefault">n</span><span class="mord mathdefault">s</span><span class="mord mathdefault">t</span><span class="mord mathdefault">a</span><span class="mord mathdefault" style="margin-right:0.01968em;">l</span><span class="mord mathdefault" style="margin-right:0.01968em;">l</span><span class="mord mathdefault" style="margin-right:0.02778em;">D</span><span class="mord mathdefault">e</span><span class="mord mathdefault">s</span><span class="mord mathdefault" style="margin-right:0.03148em;">k</span><span class="mord mathdefault">t</span><span class="mord mathdefault">o</span><span class="mord mathdefault">p</span></span></span></span>{h} <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>w</mi><mo>∗</mo><mo>∗</mo><mo>∗</mo></mrow><annotation encoding="application/x-tex">{w}***</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.46528em;vertical-align:0em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.02691em;">w</span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">∗</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.46528em;vertical-align:0em;"></span><span class="mord">∗</span><span class="mord">∗</span></span></span></span>{h}  &quot; | tee -a /tmp/Arch_install.log<br>
echo &quot;---------------------------------&quot;<br>
echo -e &quot;${PSB} ${g}   KDE plasma.     <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>h</mi></mrow><annotation encoding="application/x-tex">{h}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord"><span class="mord mathdefault">h</span></span></span></span></span>{w}[1]<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>h</mi><mo>−</mo><mo>−</mo><mi>s</mi><mi>d</mi><mi>d</mi><mi>m</mi><mi mathvariant="normal">&quot;</mi><mi>e</mi><mi>c</mi><mi>h</mi><mi>o</mi><mo>−</mo><mi>e</mi><mi mathvariant="normal">&quot;</mi></mrow><annotation encoding="application/x-tex">{h}  --sddm&quot;
        echo -e &quot;</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.77777em;vertical-align:-0.08333em;"></span><span class="mord"><span class="mord mathdefault">h</span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.77777em;vertical-align:-0.08333em;"></span><span class="mord">−</span><span class="mord mathdefault">s</span><span class="mord mathdefault">d</span><span class="mord mathdefault">d</span><span class="mord mathdefault">m</span><span class="mord">&quot;</span><span class="mord mathdefault">e</span><span class="mord mathdefault">c</span><span class="mord mathdefault">h</span><span class="mord mathdefault">o</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord mathdefault">e</span><span class="mord">&quot;</span></span></span></span>{PSB} ${g}   Gnome.          <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>h</mi></mrow><annotation encoding="application/x-tex">{h}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord"><span class="mord mathdefault">h</span></span></span></span></span>{w}[2]<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>h</mi><mo>−</mo><mo>−</mo><mi>g</mi><mi>d</mi><mi>m</mi><mi mathvariant="normal">&quot;</mi><mi>e</mi><mi>c</mi><mi>h</mi><mi>o</mi><mo>−</mo><mi>e</mi><mi mathvariant="normal">&quot;</mi></mrow><annotation encoding="application/x-tex">{h}  --gdm&quot;
        echo -e &quot;</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.77777em;vertical-align:-0.08333em;"></span><span class="mord"><span class="mord mathdefault">h</span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span class="mord">−</span><span class="mord mathdefault" style="margin-right:0.03588em;">g</span><span class="mord mathdefault">d</span><span class="mord mathdefault">m</span><span class="mord">&quot;</span><span class="mord mathdefault">e</span><span class="mord mathdefault">c</span><span class="mord mathdefault">h</span><span class="mord mathdefault">o</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord mathdefault">e</span><span class="mord">&quot;</span></span></span></span>{PSB} ${g}   Deepin.         <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>h</mi></mrow><annotation encoding="application/x-tex">{h}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord"><span class="mord mathdefault">h</span></span></span></span></span>{w}[3]<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>h</mi><mo>−</mo><mo>−</mo><mi>l</mi><mi>i</mi><mi>g</mi><mi>h</mi><mi>t</mi><mi>d</mi><mi>m</mi><mi mathvariant="normal">&quot;</mi><mi>e</mi><mi>c</mi><mi>h</mi><mi>o</mi><mo>−</mo><mi>e</mi><mi mathvariant="normal">&quot;</mi></mrow><annotation encoding="application/x-tex">{h}  --lightdm&quot;    
        echo -e &quot;</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.77777em;vertical-align:-0.08333em;"></span><span class="mord"><span class="mord mathdefault">h</span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span class="mord">−</span><span class="mord mathdefault" style="margin-right:0.01968em;">l</span><span class="mord mathdefault">i</span><span class="mord mathdefault" style="margin-right:0.03588em;">g</span><span class="mord mathdefault">h</span><span class="mord mathdefault">t</span><span class="mord mathdefault">d</span><span class="mord mathdefault">m</span><span class="mord">&quot;</span><span class="mord mathdefault">e</span><span class="mord mathdefault">c</span><span class="mord mathdefault">h</span><span class="mord mathdefault">o</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord mathdefault">e</span><span class="mord">&quot;</span></span></span></span>{PSB} ${g}   Xfce4.          <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>h</mi></mrow><annotation encoding="application/x-tex">{h}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord"><span class="mord mathdefault">h</span></span></span></span></span>{w}[4]<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>h</mi><mo>−</mo><mo>−</mo><mi>l</mi><mi>i</mi><mi>g</mi><mi>h</mi><mi>t</mi><mi>d</mi><mi>m</mi><mi mathvariant="normal">&quot;</mi><mi>e</mi><mi>c</mi><mi>h</mi><mi>o</mi><mo>−</mo><mi>e</mi><mi mathvariant="normal">&quot;</mi></mrow><annotation encoding="application/x-tex">{h}  --lightdm&quot;  
        echo -e &quot;</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.77777em;vertical-align:-0.08333em;"></span><span class="mord"><span class="mord mathdefault">h</span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span class="mord">−</span><span class="mord mathdefault" style="margin-right:0.01968em;">l</span><span class="mord mathdefault">i</span><span class="mord mathdefault" style="margin-right:0.03588em;">g</span><span class="mord mathdefault">h</span><span class="mord mathdefault">t</span><span class="mord mathdefault">d</span><span class="mord mathdefault">m</span><span class="mord">&quot;</span><span class="mord mathdefault">e</span><span class="mord mathdefault">c</span><span class="mord mathdefault">h</span><span class="mord mathdefault">o</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord mathdefault">e</span><span class="mord">&quot;</span></span></span></span>{PSB} ${g}   i3wm.           <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>h</mi></mrow><annotation encoding="application/x-tex">{h}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord"><span class="mord mathdefault">h</span></span></span></span></span>{w}[5]<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>h</mi><mo>−</mo><mo>−</mo><mi>s</mi><mi>d</mi><mi>d</mi><mi>m</mi><mi mathvariant="normal">&quot;</mi><mi>e</mi><mi>c</mi><mi>h</mi><mi>o</mi><mo>−</mo><mi>e</mi><mi mathvariant="normal">&quot;</mi></mrow><annotation encoding="application/x-tex">{h}  --sddm&quot;
        echo -e &quot;</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.77777em;vertical-align:-0.08333em;"></span><span class="mord"><span class="mord mathdefault">h</span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.77777em;vertical-align:-0.08333em;"></span><span class="mord">−</span><span class="mord mathdefault">s</span><span class="mord mathdefault">d</span><span class="mord mathdefault">d</span><span class="mord mathdefault">m</span><span class="mord">&quot;</span><span class="mord mathdefault">e</span><span class="mord mathdefault">c</span><span class="mord mathdefault">h</span><span class="mord mathdefault">o</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord mathdefault">e</span><span class="mord">&quot;</span></span></span></span>{PSB} ${g}   lxde.           <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>h</mi></mrow><annotation encoding="application/x-tex">{h}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord"><span class="mord mathdefault">h</span></span></span></span></span>{w}[6]<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>h</mi><mo>−</mo><mo>−</mo><mi>l</mi><mi>x</mi><mi>d</mi><mi>m</mi><mi mathvariant="normal">&quot;</mi><mi>e</mi><mi>c</mi><mi>h</mi><mi>o</mi><mo>−</mo><mi>e</mi><mi mathvariant="normal">&quot;</mi></mrow><annotation encoding="application/x-tex">{h}  --lxdm&quot;
        echo -e &quot;</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.77777em;vertical-align:-0.08333em;"></span><span class="mord"><span class="mord mathdefault">h</span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.77777em;vertical-align:-0.08333em;"></span><span class="mord">−</span><span class="mord mathdefault" style="margin-right:0.01968em;">l</span><span class="mord mathdefault">x</span><span class="mord mathdefault">d</span><span class="mord mathdefault">m</span><span class="mord">&quot;</span><span class="mord mathdefault">e</span><span class="mord mathdefault">c</span><span class="mord mathdefault">h</span><span class="mord mathdefault">o</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord mathdefault">e</span><span class="mord">&quot;</span></span></span></span>{PSB} ${g}   Cinnamon.       <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>h</mi></mrow><annotation encoding="application/x-tex">{h}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord"><span class="mord mathdefault">h</span></span></span></span></span>{w}[7]<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>h</mi><mo>−</mo><mo>−</mo><mi>l</mi><mi>i</mi><mi>g</mi><mi>h</mi><mi>t</mi><mi>d</mi><mi>m</mi><mi mathvariant="normal">&quot;</mi><mi>e</mi><mi>c</mi><mi>h</mi><mi>o</mi><mi mathvariant="normal">&quot;</mi><mo>−</mo><mo>−</mo><mo>−</mo><mo>−</mo><mo>−</mo><mo>−</mo><mo>−</mo><mo>−</mo><mo>−</mo><mo>−</mo><mo>−</mo><mo>−</mo><mo>−</mo><mo>−</mo><mo>−</mo><mo>−</mo><mo>−</mo><mo>−</mo><mo>−</mo><mo>−</mo><mo>−</mo><mo>−</mo><mo>−</mo><mo>−</mo><mo>−</mo><mo>−</mo><mo>−</mo><mo>−</mo><mo>−</mo><mo>−</mo><mo>−</mo><mo>−</mo><mo>−</mo><mi mathvariant="normal">&quot;</mi><mi>e</mi><mi>c</mi><mi>h</mi><mi>o</mi><mo separator="true">;</mo><mi>C</mi><mi>H</mi><mi>O</mi><mi>I</mi><mi>C</mi><msub><mi>E</mi><mi>I</mi></msub><mi>T</mi><mi>E</mi><msub><mi>M</mi><mi>D</mi></msub><mi>E</mi><mi>S</mi><mi>K</mi><mi>T</mi><mi>O</mi><mi>P</mi><mo>=</mo></mrow><annotation encoding="application/x-tex">{h}  --lightdm&quot;
        echo &quot;---------------------------------&quot;                           
        echo;
            CHOICE_ITEM_DESKTOP=</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.77777em;vertical-align:-0.08333em;"></span><span class="mord"><span class="mord mathdefault">h</span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span class="mord">−</span><span class="mord mathdefault" style="margin-right:0.01968em;">l</span><span class="mord mathdefault">i</span><span class="mord mathdefault" style="margin-right:0.03588em;">g</span><span class="mord mathdefault">h</span><span class="mord mathdefault">t</span><span class="mord mathdefault">d</span><span class="mord mathdefault">m</span><span class="mord">&quot;</span><span class="mord mathdefault">e</span><span class="mord mathdefault">c</span><span class="mord mathdefault">h</span><span class="mord mathdefault">o</span><span class="mord">&quot;</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.66666em;vertical-align:-0.08333em;"></span><span class="mord">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.66666em;vertical-align:-0.08333em;"></span><span class="mord">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.66666em;vertical-align:-0.08333em;"></span><span class="mord">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.66666em;vertical-align:-0.08333em;"></span><span class="mord">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.66666em;vertical-align:-0.08333em;"></span><span class="mord">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.66666em;vertical-align:-0.08333em;"></span><span class="mord">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.66666em;vertical-align:-0.08333em;"></span><span class="mord">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.66666em;vertical-align:-0.08333em;"></span><span class="mord">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.66666em;vertical-align:-0.08333em;"></span><span class="mord">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.66666em;vertical-align:-0.08333em;"></span><span class="mord">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.66666em;vertical-align:-0.08333em;"></span><span class="mord">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.66666em;vertical-align:-0.08333em;"></span><span class="mord">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.66666em;vertical-align:-0.08333em;"></span><span class="mord">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.66666em;vertical-align:-0.08333em;"></span><span class="mord">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.66666em;vertical-align:-0.08333em;"></span><span class="mord">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.66666em;vertical-align:-0.08333em;"></span><span class="mord">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span class="mord">&quot;</span><span class="mord mathdefault">e</span><span class="mord mathdefault">c</span><span class="mord mathdefault">h</span><span class="mord mathdefault">o</span><span class="mpunct">;</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault" style="margin-right:0.07153em;">C</span><span class="mord mathdefault" style="margin-right:0.08125em;">H</span><span class="mord mathdefault" style="margin-right:0.02778em;">O</span><span class="mord mathdefault" style="margin-right:0.07847em;">I</span><span class="mord mathdefault" style="margin-right:0.07153em;">C</span><span class="mord"><span class="mord mathdefault" style="margin-right:0.05764em;">E</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.32833099999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.05764em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.07847em;">I</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord mathdefault" style="margin-right:0.13889em;">T</span><span class="mord mathdefault" style="margin-right:0.05764em;">E</span><span class="mord"><span class="mord mathdefault" style="margin-right:0.10903em;">M</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.32833099999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.10903em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.02778em;">D</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord mathdefault" style="margin-right:0.05764em;">E</span><span class="mord mathdefault" style="margin-right:0.05764em;">S</span><span class="mord mathdefault" style="margin-right:0.07153em;">K</span><span class="mord mathdefault" style="margin-right:0.13889em;">T</span><span class="mord mathdefault" style="margin-right:0.02778em;">O</span><span class="mord mathdefault" style="margin-right:0.13889em;">P</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span></span></span></span>(echo -e &quot;${PSG} <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>y</mi><mi>P</mi><mi>l</mi><mi>e</mi><mi>a</mi><mi>s</mi><mi>e</mi><mi>s</mi><mi>e</mi><mi>l</mi><mi>e</mi><mi>c</mi><mi>t</mi><mi>d</mi><mi>e</mi><mi>s</mi><mi>k</mi><mi>t</mi><mi>o</mi><mi>p</mi></mrow><annotation encoding="application/x-tex">{y} Please select desktop</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.03588em;">y</span></span><span class="mord mathdefault" style="margin-right:0.13889em;">P</span><span class="mord mathdefault" style="margin-right:0.01968em;">l</span><span class="mord mathdefault">e</span><span class="mord mathdefault">a</span><span class="mord mathdefault">s</span><span class="mord mathdefault">e</span><span class="mord mathdefault">s</span><span class="mord mathdefault">e</span><span class="mord mathdefault" style="margin-right:0.01968em;">l</span><span class="mord mathdefault">e</span><span class="mord mathdefault">c</span><span class="mord mathdefault">t</span><span class="mord mathdefault">d</span><span class="mord mathdefault">e</span><span class="mord mathdefault">s</span><span class="mord mathdefault" style="margin-right:0.03148em;">k</span><span class="mord mathdefault">t</span><span class="mord mathdefault">o</span><span class="mord mathdefault">p</span></span></span></span>{h} <span class='katex-error' title='ParseError: KaTeX parse error: Expected &#039;EOF&#039;, got &#039;#&#039; at position 38: …SKTOP_ID=&quot;0&quot;   #̲ 初始化变量
        …'>{JHB}&quot;)
            DESKTOP_ID=&quot;0&quot;   # 初始化变量
            read -p &quot;</span>{CHOICE_ITEM_DESKTOP}&quot;  DESKTOP_ID<br>
case <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mrow><mi>D</mi><mi>E</mi><mi>S</mi><mi>K</mi><mi>T</mi><mi>O</mi><msub><mi>P</mi><mi>I</mi></msub><mi>D</mi></mrow><mi>i</mi><mi>n</mi><mn>1</mn><mo>)</mo><mi>e</mi><mi>c</mi><mi>h</mi><mi>o</mi><mo>−</mo><mi>e</mi><mi mathvariant="normal">&quot;</mi></mrow><annotation encoding="application/x-tex">{DESKTOP_ID} in
                1)
                    echo -e &quot;</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.02778em;">D</span><span class="mord mathdefault" style="margin-right:0.05764em;">E</span><span class="mord mathdefault" style="margin-right:0.05764em;">S</span><span class="mord mathdefault" style="margin-right:0.07153em;">K</span><span class="mord mathdefault" style="margin-right:0.13889em;">T</span><span class="mord mathdefault" style="margin-right:0.02778em;">O</span><span class="mord"><span class="mord mathdefault" style="margin-right:0.13889em;">P</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.32833099999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.13889em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.07847em;">I</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord mathdefault" style="margin-right:0.02778em;">D</span></span><span class="mord mathdefault">i</span><span class="mord mathdefault">n</span><span class="mord">1</span><span class="mclose">)</span><span class="mord mathdefault">e</span><span class="mord mathdefault">c</span><span class="mord mathdefault">h</span><span class="mord mathdefault">o</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord mathdefault">e</span><span class="mord">&quot;</span></span></span></span>{PSG} <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>g</mi><mi>C</mi><mi>o</mi><mi>n</mi><mi>f</mi><mi>i</mi><mi>g</mi><mi>u</mi><mi>r</mi><mi>i</mi><mi>n</mi><mi>g</mi><mi>d</mi><mi>e</mi><mi>s</mi><mi>k</mi><mi>t</mi><mi>o</mi><mi>p</mi><mi>e</mi><mi>n</mi><mi>v</mi><mi>i</mi><mi>r</mi><mi>o</mi><mi>n</mi><mi>m</mi><mi>e</mi><mi>n</mi><mi>t</mi><mi mathvariant="normal">.</mi></mrow><annotation encoding="application/x-tex">{g}Configuring desktop environment.</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.03588em;">g</span></span><span class="mord mathdefault" style="margin-right:0.07153em;">C</span><span class="mord mathdefault">o</span><span class="mord mathdefault">n</span><span class="mord mathdefault" style="margin-right:0.10764em;">f</span><span class="mord mathdefault">i</span><span class="mord mathdefault" style="margin-right:0.03588em;">g</span><span class="mord mathdefault">u</span><span class="mord mathdefault" style="margin-right:0.02778em;">r</span><span class="mord mathdefault">i</span><span class="mord mathdefault">n</span><span class="mord mathdefault" style="margin-right:0.03588em;">g</span><span class="mord mathdefault">d</span><span class="mord mathdefault">e</span><span class="mord mathdefault">s</span><span class="mord mathdefault" style="margin-right:0.03148em;">k</span><span class="mord mathdefault">t</span><span class="mord mathdefault">o</span><span class="mord mathdefault">p</span><span class="mord mathdefault">e</span><span class="mord mathdefault">n</span><span class="mord mathdefault" style="margin-right:0.03588em;">v</span><span class="mord mathdefault">i</span><span class="mord mathdefault" style="margin-right:0.02778em;">r</span><span class="mord mathdefault">o</span><span class="mord mathdefault">n</span><span class="mord mathdefault">m</span><span class="mord mathdefault">e</span><span class="mord mathdefault">n</span><span class="mord mathdefault">t</span><span class="mord">.</span></span></span></span>{h}&quot;<br>
sleep 1;<br>
pacman -Sy xorg xorg-server xorg-xinit mesa plasma plasma-desktop konsole dolphin kate plasma-pa kio-extras powerdevil kcm-fcitx | tee -a /tmp/Arch_install.log<br>
Programs_Name               # 安装其他基本包<br>
Desktop_Manager | tee -a /tmp/Arch_install.log    # 选择桌面管理器<br>
DESKTOP_ENVS=&quot;plasma&quot;       # 桌面名<br>
DESKTOP_XINIT=&quot;startkde&quot;    # 桌面环境启动<br>
Desktop_Env_Config          # 环境配置</p>
<pre><code>                #-------------------------------------------------------------------------------# 
            ;;
            2)
                echo -e &quot;${PSG} ${g}Configuring desktop environment.${h}&quot;
                sleep 1;
                pacman -Sy xorg xorg-server xorg-xinit mesa gnome gnome-extra gnome-tweaks gnome-shell gnome-shell-extensions gvfs-mtp gvfs gvfs-smb gnome-keyring | tee -a /tmp/Arch_install.log
                Programs_Name                   # 安装其他基本包
                Desktop_Manager | tee -a /tmp/Arch_install.log    # 选择桌面管理器
                DESKTOP_ENVS=&quot;gnome&quot;            # 桌面名
                DESKTOP_XINIT=&quot;gnome=session&quot;   # 桌面环境启动
                Desktop_Env_Config              # 环境配置
                
                #-------------------------------------------------------------------------------#
            ;;
            3)
                echo -e &quot;${PSG} ${g}Configuring desktop environment.${h}&quot;
                sleep 1;
                pacman -Sy xorg xorg-server xorg-xinit mesa deepin deepin-extra lightdm-deepin-greeter | tee -a /tmp/Arch_install.log                            
                Programs_Name              # 安装其他基本包
                Desktop_Manager | tee -a /tmp/Arch_install.log    # 选择桌面管理器
                sed -i 's/greeter-session=example-gtk-gnome/greeter-session=lightdm-deepin-greeter/'  /etc/lightdm/lightdm.conf
                DESKTOP_ENVS=&quot;deepin&quot;      # 桌面名
                DESKTOP_XINIT=&quot;startdde&quot;   # 桌面环境启动
                Desktop_Env_Config         # 环境配置
                
                #-------------------------------------------------------------------------------#
            ;;
            4)
                echo -e &quot;${PSG} ${g}Configuring desktop environment.${h}&quot;
                sleep 1;
                pacman -Sy xorg xorg-server xorg-xinit mesa xfce4 xfce4-goodies light-locker xfce4-power-manager libcanberra | tee -a /tmp/Arch_install.log 
                Programs_Name               # 安装其他基本包
                Desktop_Manager | tee -a /tmp/Arch_install.log    # 选择桌面管理器
                DESKTOP_ENVS=&quot;xfce&quot;         # 桌面名
                DESKTOP_XINIT=&quot;startxfce4&quot;  # 桌面环境启动
                Desktop_Env_Config          # 环境配置
                
                #-------------------------------------------------------------------------------#
            ;;
            5)
                echo -e &quot;${PSG} ${g}Configuring desktop environment.${h}&quot;
                sleep 1; 
                pacman -Sy xorg xorg-server xorg-xinit mesa i3 i3-gaps i3lock i3status compton dmenu feh picom nautilus polybar gvfs-mtp  xfce4-terminal termite | tee -a /tmp/Arch_install.log
                sed -i 's/i3-sensible-terminal/--no-startup-id termite/g' /home/${CheckingUser}/.config/i3/config  # 更改终端
                Programs_Name           # 安装其他基本包
                Desktop_Manager | tee -a /tmp/Arch_install.log    # 选择桌面管理器
                DESKTOP_ENVS=&quot;i3wm&quot;     # 桌面名
                DESKTOP_XINIT=&quot;i3&quot;      # 桌面环境启动
                Desktop_Env_Config      # 环境配置
                
                #-------------------------------------------------------------------------------#  
            ;;
            6)
                echo -e &quot;${PSG} ${g}Configuring desktop environment.${h}&quot;
                sleep 1; 
                pacman -Sy xorg xorg-server xorg-xinit mesa lxde 
                Programs_Name               # 安装其他基本包
                Desktop_Manager | tee -a /tmp/Arch_install.log    # 选择桌面管理器
                DESKTOP_ENVS=&quot;lxde&quot;         # 桌面名
                DESKTOP_XINIT=&quot;startlxde&quot;   # 桌面环境启动
                Desktop_Env_Config          # 环境配置
                
            #-------------------------------------------------------------------------------#  
            ;;
            7)
                echo -e &quot;${PSG} ${g}Configuring desktop environment.${h}&quot; 
                sleep 1; 
                pacman -Sy xorg xorg-server xorg-xinit mesa cinnamon blueberry gnome-screenshot gvfs gvfs-mtp gvfs-afc exfat-utils faenza-icon-theme accountsservice gnoem-terminal | tee -a /tmp/Arch_install.log
                Programs_Name               # 安装其他基本包
                Desktop_Manager | tee -a /tmp/Arch_install.log    # 选择桌面管理器
                DESKTOP_ENVS=&quot;cinnamon&quot;     # 桌面名
                DESKTOP_XINIT=&quot;cinnamon-session&quot;      # 桌面环境启动
                DSnapshot 5esktop_Env_Config      # 环境配置
                
            #-------------------------------------------------------------------------------#  
            ;;
            *)
                echo -e &quot;${PSR} ${r} Selection error.${h}&quot; | tee -a /tmp/Arch_install.log  
                exit 26
            esac
         
        #-------------------------------------------------------------------------------#     
        READDRIVE_CommonDrive=$(echo -e &quot;${PSG} ${y}Whether to install Common Drivers: Install[y] No[*]${h} ${JHB}&quot;)
        read -p &quot;${READDRIVE_CommonDrive}&quot; CommonDrive
        echo;
        case ${CommonDrive} in
        y | Y | yes | YES)
            #安装声音软件包
            echo -e &quot;${PSG} ${g}Installing Audio driver.${h}&quot; | tee -a /tmp/Arch_install.log
            pacman -Sy --needed alsa-utils pulseaudio pulseaudio-bluetooth pulseaudio-alsa  
            echo &quot;load-module module-bluetooth-policy&quot; &gt;&gt; /etc/pulse/system.pa
            echo &quot;load-module module-bluetooth-discover&quot; &gt;&gt; /etc/pulse/system.pa
            #触摸板驱动
            echo -e &quot;${PSG} ${g}Installing input driver.${h}&quot; | tee -a /tmp/Arch_install.log
            pacman -Sy --needed xf86-input-synaptics xf86-input-libinput create_ap  
            # 蓝牙驱动
            echo -e &quot;${PSG} ${g}Installing Bluetooth driver.${h}&quot; | tee -a /tmp/Arch_install.log
            pacman -Sy --needed bluez bluez-utils blueman bluedevil
        ;;
        * )
            exit 0
        ;;
        esac
fi
</code></pre>
<p>#------------------------------------------------------------------------------------------------------#</p>
<h1 id="list5-进入系统后的配置-55555555555555555555">list5==========  进入系统后的配置 ===========55555555555555555555</h1>
<pre><code>if [[ ${tasks} == 23 ]];then
        echo;
        sh -c &quot;$(curl -fsSL https://gitee.com/auroot/Arch_install/raw/master/mirrorlist.sh)&quot;
        echo -e &quot;${wg}Installing grub tools.${h}&quot;  #安装grub工具   UEFI与Boot传统模式判断方式：ls /sys/firmware/efi/efivars  Boot引导判断磁盘地址：cat /mnt/diskName_root
            if ls /sys/firmware/efi/efivars &amp;&gt; /dev/null ; then    # 判断文件是否存在，存在为真，执行EFI，否则执行 Boot
                #-------------------------------------------------------------------------------#   
                echo;
                echo -e &quot;${PSG} ${w}Your startup mode has been detected as ${g}UEFI${h}.&quot; | tee -a /tmp/Arch_install.log
                echo;  
                pacman -Sy grub efibootmgr os-prober | tee -a /tmp/Arch_install.log
                grub-install --target=x86_64-efi --efi-directory=/boot/efi --bootloader-id=Archlinux | tee -a /tmp/Arch_install.log  # 安装Grub引导
                grub-mkconfig -o /boot/grub/grub.cfg | tee -a /tmp/Arch_install.log      # 生成配置文件
                echo;
                if efibootmgr | grep &quot;Archlinux&quot; &amp;&gt; ${null} ; then      #检验 并提示用户
                    echo -e &quot;${g} Grub installed successfully -=&gt; [Archlinux] ${h}&quot; | tee -a /tmp/Arch_install.log
                    echo -e &quot;${g}     `efibootmgr | grep &quot;Archlinux&quot;`  ${h}&quot; | tee -a /tmp/Arch_install.log
                    echo;   
                else
                    echo -e &quot;${r} Grub installed failed ${h}&quot; | tee -a /tmp/Arch_install.log      # 如果安装失败，提示用户，并列出引导列表
                    echo -e &quot;${g}     `efibootmgr`  ${h}&quot; | tee -a /tmp/Arch_install.log  
                    echo; 
                fi
            else   #-------------------------------------------------------------------------------#
                echo;
                echo -e &quot;${PSG} ${w}Your startup mode has been detected as ${g}Boot Legacy${h}.&quot; | tee -a /tmp/Arch_install.log
                echo;
                pacman -Sy grub os-prober | tee -a /tmp/Arch_install.log
                Disk_Boot=$(cat /diskName_root)
                grub-install --target=i386-pc ${Disk_Boot} | tee -a /tmp/Arch_install.log  # 安装Grub引导
                grub-mkconfig -o /boot/grub/grub.cfg | tee -a /tmp/Arch_install.log                       # 生成配置文件
                echo;
                if echo $? &amp;&gt; ${null} ; then      #检验 并提示用户
                        echo -e &quot;${g} Grub installed successfully -=&gt; [Archlinux] ${h}&quot; | tee -a /tmp/Arch_install.log
                        echo;   
                else
                        echo -e &quot;${r} Grub installed failed ${h}&quot; | tee -a /tmp/Arch_install.log      # 如果安装失败，提示用户，并列出引导列表
                        echo; 
                fi
                    #-------------------------------------------------------------------------------#
            fi
            echo -e &quot;${PSG} ${w}Configure enable Network.${h}&quot; | tee -a /tmp/Arch_install.log  
            systemctl enable NetworkManager | tee -a /tmp/Arch_install.log        #配置网络 加入开机启动 NetworkManager
            systemctl enable dhcpcd | tee -a /tmp/Arch_install.log        # 加入开机启动 dhcpcd
            #---------------------------------------------------------------------------#
            # 基础配置  时区 主机名 本地化 语言 安装语言包
            #-----------------------------
                echo -e &quot;${PSG} ${w}Time zone changed to 'Shanghai'. ${h}&quot; | tee -a /tmp/Arch_install.log
            ln -sf /usr/share/zoneinfo/Asia/Shanghai /etc/localtime &amp;&amp; hwclock --systohc # 将时区更改为&quot;上海&quot; / 生成 /etc/adjtime
                echo -e &quot;${PSG} ${w}Localization language settings. ${h}&quot; | tee -a /tmp/Arch_install.log
            echo &quot;Archlinux&quot; &gt; /etc/hostname        # 设置主机名
            sed -i 's/#.*en_US.UTF-8 UTF-8/en_US.UTF-8 UTF-8/' /etc/locale.gen      # 本地化设置 &quot;英文&quot;
            sed -i 's/#.*zh_CN.UTF-8 UTF-8/zh_CN.UTF-8 UTF-8/' /etc/locale.gen      # 本地化设置 &quot;中文&quot;
            locale-gen | tee -a /tmp/Arch_install.log      # 生成 locale
            echo -e &quot;${PSG} ${w}Configure local language defaults 'en_US.UTF-8'. ${h}&quot; | tee -a /tmp/Arch_install.log
            echo &quot;LANG=en_US.UTF-8&quot; &gt; /etc/locale.conf       # 系统语言 &quot;英文&quot; 默认为英文   
            # echo &quot;LANG=zh_CN.UTF-8&quot; &gt; /etc/locale.conf     # 系统语言 &quot;中文&quot;
            echo -e &quot;${PSG} ${w}Install Fonts. ${h}&quot; | tee -a /tmp/Arch_install.log
            pacman -Sy wqy-microhei wqy-zenhei ttf-dejavu ttf-ubuntu-font-family noto-fonts # 安装语言包
            #---------------------------------------------------------------------------#
            ConfigurePassworld    # 引用函数：设置密码
    echo -e &quot;${ws}#======================================================#${h}&quot; #本区块退出后的提示
    echo -e &quot;${ws}#::                 Exit in 5/s                        #${h}&quot; 
    echo -e &quot;${ws}#::  When finished, restart the computer.              #${h}&quot;
    echo -e &quot;${ws}#::  If there is a problem during the installation     #${h}&quot;
    echo -e &quot;${ws}#::  please contact me. QQ:2763833502                  #${h}&quot;
    echo -e &quot;${ws}#======================================================#${h}&quot;
    sleep 3
fi
</code></pre>
<p>fi</p>
<h1 id="安装archlinux-选项4">安装ArchLinux    选项4</h1>
<p>##========退出 EXIT</p>
<p>case <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>p</mi><mi>r</mi><mi>i</mi><mi>n</mi><mi>c</mi><mi>i</mi><mi>p</mi><mi>a</mi><msub><mi>l</mi><mi>v</mi></msub><mi>a</mi><mi>r</mi><mi>i</mi><mi>a</mi><mi>b</mi><mi>l</mi><mi>e</mi><mi>i</mi><mi>n</mi><mi>q</mi><mi mathvariant="normal">∣</mi><mi>Q</mi><mi mathvariant="normal">∣</mi><mi>q</mi><mi>u</mi><mi>i</mi><mi>t</mi><mi mathvariant="normal">∣</mi><mi>Q</mi><mi>U</mi><mi>I</mi><mi>T</mi><mo>)</mo><mi>c</mi><mi>l</mi><mi>e</mi><mi>a</mi><mi>r</mi><mo separator="true">;</mo><mi>e</mi><mi>c</mi><mi>h</mi><mi>o</mi><mo separator="true">;</mo><mi>e</mi><mi>c</mi><mi>h</mi><mi>o</mi><mo>−</mo><mi>e</mi><mi mathvariant="normal">&quot;</mi></mrow><annotation encoding="application/x-tex">principal_variable in
    q | Q | quit | QUIT)
    clear;
    echo;
    echo -e &quot;</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault">p</span><span class="mord mathdefault" style="margin-right:0.02778em;">r</span><span class="mord mathdefault">i</span><span class="mord mathdefault">n</span><span class="mord mathdefault">c</span><span class="mord mathdefault">i</span><span class="mord mathdefault">p</span><span class="mord mathdefault">a</span><span class="mord"><span class="mord mathdefault" style="margin-right:0.01968em;">l</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:-0.01968em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.03588em;">v</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord mathdefault">a</span><span class="mord mathdefault" style="margin-right:0.02778em;">r</span><span class="mord mathdefault">i</span><span class="mord mathdefault">a</span><span class="mord mathdefault">b</span><span class="mord mathdefault" style="margin-right:0.01968em;">l</span><span class="mord mathdefault">e</span><span class="mord mathdefault">i</span><span class="mord mathdefault">n</span><span class="mord mathdefault" style="margin-right:0.03588em;">q</span><span class="mord">∣</span><span class="mord mathdefault">Q</span><span class="mord">∣</span><span class="mord mathdefault" style="margin-right:0.03588em;">q</span><span class="mord mathdefault">u</span><span class="mord mathdefault">i</span><span class="mord mathdefault">t</span><span class="mord">∣</span><span class="mord mathdefault">Q</span><span class="mord mathdefault" style="margin-right:0.10903em;">U</span><span class="mord mathdefault" style="margin-right:0.07847em;">I</span><span class="mord mathdefault" style="margin-right:0.13889em;">T</span><span class="mclose">)</span><span class="mord mathdefault">c</span><span class="mord mathdefault" style="margin-right:0.01968em;">l</span><span class="mord mathdefault">e</span><span class="mord mathdefault">a</span><span class="mord mathdefault" style="margin-right:0.02778em;">r</span><span class="mpunct">;</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault">e</span><span class="mord mathdefault">c</span><span class="mord mathdefault">h</span><span class="mord mathdefault">o</span><span class="mpunct">;</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault">e</span><span class="mord mathdefault">c</span><span class="mord mathdefault">h</span><span class="mord mathdefault">o</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord mathdefault">e</span><span class="mord">&quot;</span></span></span></span>{wg}#----------------------------------#<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>h</mi><mi mathvariant="normal">&quot;</mi><mi>e</mi><mi>c</mi><mi>h</mi><mi>o</mi><mo>−</mo><mi>e</mi><mi mathvariant="normal">&quot;</mi></mrow><annotation encoding="application/x-tex">{h}&quot;
    echo -e &quot;</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.77777em;vertical-align:-0.08333em;"></span><span class="mord"><span class="mord mathdefault">h</span></span><span class="mord">&quot;</span><span class="mord mathdefault">e</span><span class="mord mathdefault">c</span><span class="mord mathdefault">h</span><span class="mord mathdefault">o</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord mathdefault">e</span><span class="mord">&quot;</span></span></span></span>{wg}#------------Script Exit-----------#<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>h</mi><mi mathvariant="normal">&quot;</mi><mi mathvariant="normal">∣</mi><mi>t</mi><mi>e</mi><mi>e</mi><mo>−</mo><mi>a</mi><mi mathvariant="normal">/</mi><mi>t</mi><mi>m</mi><mi>p</mi><mi mathvariant="normal">/</mi><mi>A</mi><mi>r</mi><mi>c</mi><msub><mi>h</mi><mi>i</mi></msub><mi>n</mi><mi>s</mi><mi>t</mi><mi>a</mi><mi>l</mi><mi>l</mi><mi mathvariant="normal">.</mi><mi>l</mi><mi>o</mi><mi>g</mi><mi>e</mi><mi>c</mi><mi>h</mi><mi>o</mi><mo>−</mo><mi>e</mi><mi mathvariant="normal">&quot;</mi></mrow><annotation encoding="application/x-tex">{h}&quot; | tee -a /tmp/Arch_install.log
    echo -e &quot;</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathdefault">h</span></span><span class="mord">&quot;</span><span class="mord">∣</span><span class="mord mathdefault">t</span><span class="mord mathdefault">e</span><span class="mord mathdefault">e</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault">a</span><span class="mord">/</span><span class="mord mathdefault">t</span><span class="mord mathdefault">m</span><span class="mord mathdefault">p</span><span class="mord">/</span><span class="mord mathdefault">A</span><span class="mord mathdefault" style="margin-right:0.02778em;">r</span><span class="mord mathdefault">c</span><span class="mord"><span class="mord mathdefault">h</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord mathdefault">n</span><span class="mord mathdefault">s</span><span class="mord mathdefault">t</span><span class="mord mathdefault">a</span><span class="mord mathdefault" style="margin-right:0.01968em;">l</span><span class="mord mathdefault" style="margin-right:0.01968em;">l</span><span class="mord">.</span><span class="mord mathdefault" style="margin-right:0.01968em;">l</span><span class="mord mathdefault">o</span><span class="mord mathdefault" style="margin-right:0.03588em;">g</span><span class="mord mathdefault">e</span><span class="mord mathdefault">c</span><span class="mord mathdefault">h</span><span class="mord mathdefault">o</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord mathdefault">e</span><span class="mord">&quot;</span></span></span></span>{wg}#----------------------------------#${h}&quot;<br>
exit 0<br>
esac</p>

          </div>
        </div>

        
          <div class="next-post">
            <a class="purple-link" href="https://basierl.github.io/post/binbash/">
              <h3 class="post-title">
                下一篇：#!/bin/bash
              </h3>
            </a>
          </div>
          
      </div>

      
        
          <div id="gitalk-container"></div>
        

        
      

      <div class="site-footer">
  <div class="slogan">小鹿史记</div>
  <div class="social-container">
    
      
    
      
    
      
    
      
    
      
    
  </div>
  By <a href="https://basierl.github.io" target="_blank">Auroot</a> | <a class="rss" href="https://basierl.github.io/atom.xml" target="_blank">RSS</a>
</div>


    </div>
    <script type="application/javascript">

hljs.initHighlightingOnLoad()

var app = new Vue({
  el: '#app',
  data: {
    menuVisible: false,
  },
})

</script>



  
    <script src="https://unpkg.com/gitalk/dist/gitalk.min.js"></script>
    <script>

      var gitalk = new Gitalk({
        clientID: '',
        clientSecret: '',
        repo: '',
        owner: '',
        admin: [''],
        id: (location.pathname).substring(0, 49),      // Ensure uniqueness and length less than 50
        distractionFreeMode: false  // Facebook-like distraction free mode
      })

      gitalk.render('gitalk-container')

    </script>
  

  




  </body>
</html>
